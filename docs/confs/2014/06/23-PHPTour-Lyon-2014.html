<!DOCTYPE HTML>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta charset=utf-8 /> 
    <meta name=viewport content="width=device-width" /> 
    <meta name="generator" content="Emacs Muse Blog" /> 
    <meta description="blog de Dimitri Fontaine, Expert PostgreSQL - 2ndQuadrant France" />
    <meta property="og:title" content="tapoueh.org"/>
    <meta property="og:type" content="non_profit"/>
    <meta property="og:url" content="http://tapoueh.org/confs/2014/06/23-PHPTour-Lyon-2014.html"/>
    <meta property="og:image" content="http://tapoueh.org/static/2ndQuadrant-cross.png"/>
    <meta property="og:site_name" content="Tapoueh"/>
    <meta property="fb:admins" content="545062436"/>

    <title>Expertise PostgreSQL</title>
    <link rel='stylesheet' type='text/css' media='all' href='../../../static/styles.css' />
    <link rel='stylesheet' type='text/css' medial='all' href='../../../static/bootstrap/css/bootstrap.min.css' />
    <link rel='stylesheet' type='text/css' medial='all' href='../../../static/FontAwesome/css/font-awesome.min.css' />

    <link rel='stylesheet' type='text/css' medial='all' href='../../../static/highlight.js/styles/sunburst.css' />
    <script type='text/javascript' src='../../../static/highlight.js/highlight.pack.js'></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <script type='text/javascript' src='../../../static/jquery-1.9.1.min.js'></script>
    <link rel='stylesheet' type='text/css' medial='all' href='../../../static/jqcloud.css' />
    <script type='text/javascript' src='../../../static/jqcloud-1.0.4.min.js'></script>

    <!-- <link href="/static/bootstrap/css/bootstrap.min.css" rel="stylesheet"/>
    <link rel="stylesheet" href="/static/FontAwesome/css/font-awesome.min.css"/>
    <link rel="stylesheet" href="/static/highlight.js/styles/sunburst.css">
    <script src="/static/highlight.js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <script src="/static/jquery-1.9.1.min.js"></script>
    <link rel="stylesheet" type="text/css" href="/static/jqcloud.css" />
    <script type="text/javascript" src="/static/jqcloud-1.0.4.min.js"></script>
    -->

    <script type="text/javascript" src="http://apis.google.com/js/plusone.js">{lang: 'fr'}</script>
    
  </head>
  <body>

   <div id="wrap">

    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="nav-collapse collapse">
	<p class="pull-right">
	  <a href="http://2ndquadrant.com">
	    <img alt="logo" src="/static/2ndQuadrant-cross.png"
		 style="margin-right: 8px; margin-top: 4px; height: 32px;"/>
	  </a>
	</p>
	<div class="navbar-inner">
	 <a class="brand" style="margin-left: 0.2em; margin-top: -4px;"
	    href="http://expert-postgresql.fr/">
	  <img src="/static/expert-postgresql.png"></a>
	 <ul class="nav">
	   <li><a href="../../../blog/index.html">
               <i class="icon-book"></i> blog</a>
           </li>
	   <li><a href="../../../projects.html">
               <i class="icon-suitcase"></i> projects</a>
           </li>
	   <li><a href="../../../conferences.html">
               <i class="icon-plane"></i> confs</a>
           </li>
	   <li><a href="../../../about.html">
               <i class="icon-beer"></i> about</a>
           </li>
	   <li><a href="../../../rss/tapoueh.xml">
               <i class="icon-rss"></i> rss</a>
           </li>
	 </ul>
	</div>
      </div>
    </div>

    <div class="container">
      <div class="row">
	<div class="span4">
	  <div></div>
	  <div class='date'>Monday, June 23 2014 <i class='icon-calendar'></i></div>
	  <div style='text-align: right;'><span><a href='../../../tags/conferences'>Conferences</a>, <a href='../../../tags/postgresql'>PostgreSQL</a>, <a href='../../../tags/postgresqlfr'>PostgreSQLFr</a></span> <i class='icon-tags'></i></div>
	  <div style='text-align: right;'><a href='http://maps.google.com/maps?q=Lyon&z=5'>Lyon</a> <i class='icon-map-marker'></i></div>

	  <div style="margin-top: 1em;">
	    <div class='span2 pull-left'><a class='thumbnail' href='../../../tags/conferences.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../../thumbnails/conferences.jpg' /></a></div>
	    <div id='social' class='span1 pull-right social'><ul><li><g:plusone size='tall' href='http://tapoueh.org/confs/2014/06/23-PHPTour-Lyon-2014'></g:plusone></li><li><a href='http://twitter.com/share' class='twitter-share-button' data-via='tapoueh' data-count='vertical'>Tweet</a><script type='text/javascript' src='http://platform.twitter.com/widgets.js'></script></li></ul></div>
	  </div>

	  <div id="prevnext">
	    
	    <div></div>
	    <div></div>
	  </div>
	  
	  <div>
	    <div id="left-tag-cloud" class="jqcloud"
		 style="width: 300px; height: 650px; position: absolute; top: 475px;">
	    </div>
            <script>
            var word_list;
            
            $.ajax({
                type: 'GET',
                url: '/cloud.json',
                dataType: 'json',
                success: function(response) { word_list = response; },
                data: {},
                async: false
            });
             
            $(document).ready(function() {
               $("#left-tag-cloud").jQCloud(word_list,
	                {shape: "rectangular",
	                 removeOverflowing: false});
            });
            </script>
	  </div>

	</div>

	<div id="title" class="span8">
	  <h1>PHP Tour Lyon 2014</h1>
	</div>
	
	<div id="content" class="span8">
<p>The 
<a href='http://afup.org/pages/site/'>french PHP community</a> frequently runs nice conferences, really well put
together, and I had the chance to be invited to 
<a href='http://afup.org/pages/phptourlyon2014/'>PHP Tour 2014</a> where I did
present 
<a href='http://afup.org/pages/phptourlyon2014/sessions.php#1007'>How to use PostgreSQL in 2014</a>.
</p><center><a href='../../../images/confs/PHPTour_2014_PostgreSQL.pdf'><img src='../../../images/confs/PHPTour_2014_PostgreSQL.png' /></a></center><p>The talk is in french but is mostly pictures and SQL queries, so that it
should be easy enough to walk through even for non french-speakers. It's
organized in 3 parts, first establishing what problems are solved by
Relational Database Systems and why we still have those problems to solve,
then very quickly giving some context about 
<em>High Availability</em> (of both
services and data) and PostgreSQL, and then the meat of it consists of
advanced SQL use cases.
</p><p>The speak was recorded, and here's the video (wherein I speak French):
</p>

<center>

<iframe width="560" height="315" src="//www.youtube.com/embed/hzn0ODTMNDk" frameborder="0" allowfullscreen></iframe>

</center>

<p>Here's a list of related articles, with advanced use cases examples:
</p><div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../../blog/2014/08/29-Postgres-Open.html'>Going to Chicago, Postgres Open</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>August, 29 2014</span></div></div><div class='span2'><a class='thumbnail' href='../../../blog/2014/08/29-Postgres-Open.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../../thumbnails/postgresopen.png' /></a></div><div class='span6'><p>Next month, 
<a href='https://postgresopen.org/2014/'>Postgres Open 2014</a> is happening in Chicago, and I'll have the
pleasure to host a tutorial about PostgreSQL Extensions
<a href='https://postgresopen.org/events/schedule/pgopen2014/session/77-4-writing-using-postgres-extensions/index.html/'>Writing & Using Postgres Extensions</a>, and a talk aimed at developers wanting
to make the best out of PostgreSQL, 
<a href='https://postgresopen.org/events/schedule/pgopen2014/session/56-postgresql-for-developers/'>PostgreSQL for developers</a>:
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../../blog/2014/06/27-phptour-2014.html'>PHP Tour 2014</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>June, 27 2014</span></div></div><div class='span2'><a class='thumbnail' href='../../../blog/2014/06/27-phptour-2014.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../../thumbnails/confs/PHPTour_2014_PostgreSQL.png' /></a></div><div class='span6'><p>En début de semaine se tenait le 
<a href='http://afup.org/pages/phptourlyon2014/'>PHP Tour 2014</a> à Lyon, et j'ai eu le
privilège d'y être invité afin de présenter comment
<a href='http://afup.org/pages/phptourlyon2014/sessions.php#1007'>Utiliser PostgreSQL en 2014</a>.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../../blog/2014/03/25-Nordic-PGDAY-2014.html'>Nordic PostgreSQL Day 2014</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>March, 25 2014</span></div></div><div class='span2'><a class='thumbnail' href='../../../blog/2014/03/25-Nordic-PGDAY-2014.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../../thumbnails/confs/NordicPGDAY.png' /></a></div><div class='span6'><p>Last week some PostgreSQL users, contributors and advocates have organized a
really great conference in Stockholm, Sweden, where I had the please to give
the following talk:
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../../blog/2014/02/21-PostgreSQL-histogram.html'>PostgreSQL, Aggregates and Histograms</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>February, 21 2014</span></div></div><div class='span2'><a class='thumbnail' href='../../../blog/2014/02/21-PostgreSQL-histogram.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../../thumbnails/histogram.jpg' /></a></div><div class='span6'><p>In our previous article 
<a href='/blog/2014/02/17-aggregating-nba-data-PostgreSQL-vs-MongoDB'>Aggregating NBA data, PostgreSQL vs MongoDB</a> we spent
time comparing the pretty new 
<em>MongoDB Aggregation Framework</em> with the decades
old SQL aggregates. Today, let's showcase more of those SQL aggregates,
producing a nice 
<em>histogram</em> right from our SQL console.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../../blog/2014/02/17-aggregating-nba-data-PostgreSQL-vs-MongoDB.html'>Aggregating NBA data, PostgreSQL vs MongoDB</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>February, 17 2014</span></div></div><div class='span2'><a class='thumbnail' href='../../../blog/2014/02/17-aggregating-nba-data-PostgreSQL-vs-MongoDB.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../../thumbnails/postgresql-mongodb.jpg' /></a></div><div class='span6'><p>When reading the article
<a href='http://thecodebarbarian.wordpress.com/2014/02/14/crunching-30-years-of-nba-data-with-mongodb-aggregation/'>Crunching 30 Years of NBA Data with MongoDB Aggregation</a> I coulnd't help but
think that we've been enjoying 
<a href='http://www.postgresql.org/docs/current/static/tutorial-agg.html'>aggregates</a> in SQL for 3 or 4 decades already.
When using 
<a href='http://www.postgresql.org/'>PostgreSQL</a> it's even easy to actually add your own aggregates
given the SQL command 
<a href='http://www.postgresql.org/docs/current/static/sql-createaggregate.html'>create aggregate</a>.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../../blog/2014/02/FOSDEM-Extensions.html'>PostgreSQL FOSDEM Conference</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>February, 03 2014</span></div></div><div class='span2'><a class='thumbnail' href='../../../blog/2014/02/FOSDEM-Extensions.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../../thumbnails/confs/Fosdem_2014_Extensions.png' /></a></div><div class='span6'><p>Back from the 
<a href='https://fosdem.org/2014/'>FODESM 2014 Conference</a>, here's the slides I've been using for
the 
<a href='http://www.postgresql.eu/events/schedule/fosdem2014/session/570-advanced-extension-use-cases/'>Advanced Extension Use Cases</a> talk I gave, based on the ongoing work to
be found under the 
<a href='http://tapoueh.org/tags/extensions'>Tour of Extensions</a> index in this web site.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../../blog/2013/11/05-back-from-dublin.html'>Back From Dublin</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>November, 05 2013</span></div></div><div class='span2'><a class='thumbnail' href='../../../blog/2013/11/05-back-from-dublin.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../../thumbnails/howth.640.jpg' /></a></div><div class='span6'><p>Last week I had the pleasure to present two talks at the awesome
<a href='http://2013.pgconf.eu/'>PostgreSQL Conference Europe</a>. The first one was actually a tutorial about
<a href='http://www.postgresql.eu/events/schedule/pgconfeu2013/session/430-writing-using-postgres-extensions/'>Writing & using Postgres Extensions</a> where we spent 3 hours on what are
PostgreSQL Extensions, what you can expect from them, and how to develop a
new one. Then I also had the opportunity to present the new version of
<a href='/projects/pgloader'>pgloader</a> in a talk about 
<a href='http://www.postgresql.eu/events/schedule/pgconfeu2013/session/464-migrating-from-mysql-to-postgresql/'>Migrating from MySQL to PostgreSQL</a>.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../../blog/2013/10/23-denormalizing-tags.html'>Denormalizing Tags</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>October, 24 2013</span></div></div><div class='span2'><a class='thumbnail' href='../../../blog/2013/10/23-denormalizing-tags.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../../thumbnails/wordpres-seo-categories-tags.jpg' /></a></div><div class='span6'><p>In our 
<a href='/tags/extensions'>Tour of Extensions</a> today's article is about advanced tag indexing. We
have a great data collection to play with and our goal today is to be able
to quickly find data matching a complex set of tags. So, let's find out
those 
<a href='http://www.lastfm.fr/'>lastfm</a> tracks that are tagged as 
<em>blues</em> and 
<em>rhythm and blues</em>, for
instance.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../../blog/2013/10/16-Interview-MariaDB-PostgreSQL.html'>An Interview about MariaDB and PostgreSQL</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>October, 16 2013</span></div></div><div class='span2'><a class='thumbnail' href='../../../blog/2013/10/16-Interview-MariaDB-PostgreSQL.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../../thumbnails/Interview.jpg' /></a></div><div class='span6'><p>At the 
<a href='http://openworldforum.org/en/'>Open World Forum</a> two weeks ago I had the pleasure to meet with
<a href='http://www.bytebot.net/blog/'>Colin Charles</a>. We had a nice talk about the current state of both 
<a href='https://mariadb.org/'>MariaDB</a>
and 
<a href='http://www.postgresql.org/'>PostgreSQL</a>, and even were both interviewed by the Open World Forum Team.
The interview is now available online. Dear French readers, it's in English.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../../blog/2013/10/14-autonomous-transactions.html'>PostgreSQL Autonomous Transaction</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>October, 14 2013</span></div></div><div class='span2'><a class='thumbnail' href='../../../blog/2013/10/14-autonomous-transactions.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../../thumbnails/autonomous-driving.640.jpg' /></a></div><div class='span6'><p><a href='http://www.postgresql.org/'>PostgreSQL</a> is an all round impressive 
<em>Relational DataBase Management System</em>
which implements the SQL standard (see the very useful reference page
<a href='http://troels.arvin.dk/db/rdbms/'>Comparison of different SQL implementations</a> for details). PostgreSQL also
provides with unique solutions in the database market and has been leading
innovation for some years now. Still, there's no support for 
<em><strong>Autonomous
Transactions</strong></em> within the server itself. Let's have a look at how to easily
implement them with 
<a href='http://wiki.postgresql.org/wiki/PL/Proxy'>PL/Proxy</a>.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../../blog/2013/10/09-ip4r.html'>Geolocation with PostgreSQL</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>October, 09 2013</span></div></div><div class='span2'><a class='thumbnail' href='../../../blog/2013/10/09-ip4r.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../../thumbnails/geolocation.png' /></a></div><div class='span6'><p>Let's get back to our 
<a href='/tags/extensions'>Tour of Extensions</a> that had to be kept aside for
awhile with other concerns such as last chance 
<a href='/blog/2013/09/16-PostgreSQL-data-recovery'>PostgreSQL data recovery</a>. Now
that we have a 
<em>data loading</em> tool up to the task (read about it in the
<a href='/blog/2013/10/01-loading-geolocation-data'>Loading Geolocation Data</a> article) we're going to be able to play with the
awesome 
<a href='https://github.com/RhodiumToad/ip4r'>ip4r</a> extension from 
<a href='http://blog.rhodiumtoad.org.uk/'>RhodiumToad</a>.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../../blog/2013/10/07-Open-World-Forum.html'>Open World Forum Conference</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>October, 07 2013</span></div></div><div class='span2'><a class='thumbnail' href='../../../blog/2013/10/07-Open-World-Forum.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../../thumbnails/confs/postgresql_is_web_scale.png' /></a></div><div class='span6'><p>Last Friday I had the chance to be speaking at the 
<a href='http://openworldforum.org/en/'>Open World Forum</a> in the
<em><strong>NewSQL</strong></em> track, where we had lots of interest and excitement around the 
<em><strong>NoSQL</strong></em>
offerings. Of course, my talk was about explaining how
<a href='http://openworldforum.org/en/tracks/24#talk_41'>PostgreSQL is Web Scale</a> with some historical background and technical
examples about what this database engine is currently capable of.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../../blog/2013/09/06-pg_trgm-suggestions.html'>Using trigrams against typos</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>September, 06 2013</span></div></div><div class='span2'><a class='thumbnail' href='../../../blog/2013/09/06-pg_trgm-suggestions.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../../thumbnails/trigramme.png' /></a></div><div class='span6'><p>In our ongoing 
<a href='/tags/extensions'>Tour of Extensions</a> we played with 
<a href='http://www.postgresql.org/docs/current/static/earthdistance.html'>earth distance</a> in
<a href='/blog/2013/08/05-earthdistance'>How far is the nearest pub?</a> then with 
<a href='http://www.postgresql.org/docs/current/static/hstore.html'>hstore</a> in a series about trigger,
first to generalize 
<a href='/blog/2013/08/23-parametrized-triggers'>Trigger Parameters</a> then to enable us to
<a href='/blog/2013/08/27-auditing-changes-with-hstore'>Auditing Changes with Hstore</a>. Today we are going to work with 
<a href='http://www.postgresql.org/docs/current/static/pgtrgm.html'>pg_trgm</a> which
is the 
<em>trigrams</em> PostgreSQL extension: its usage got seriously enhanced in
recent PostgreSQL releases and it's now a poor's man 
<a href='http://www.postgresql.org/docs/current/static/textsearch.html'>Full Text Search</a>
engine.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../../blog/2013/08/27-auditing-changes-with-hstore.html'>Auditing Changes with Hstore</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>August, 27 2013</span></div></div><div class='span2'><a class='thumbnail' href='../../../blog/2013/08/27-auditing-changes-with-hstore.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../../thumbnails/Audit-Conseil.jpg' /></a></div><div class='span6'><p>In a previous article about 
<a href='/blog/2013/08/23-parametrized-triggers'>Trigger Parameters</a> we have been using the
extension 
<a href='http://www.postgresql.org/docs/9.2/static/hstore.html'>hstore</a> in order to compute some extra field in our records, where
the fields used both for the computation and for storing the results were
passed in as 
<em>dynamic parameters</em>. Today we're going to see another 
<em>trigger</em>
use case for 
<em>hstore</em>: we are going to record changes made to our tuples.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../../blog/2013/08/23-parametrized-triggers.html'>Trigger Parameters</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>August, 23 2013</span></div></div><div class='span2'><a class='thumbnail' href='../../../blog/2013/08/23-parametrized-triggers.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../../thumbnails/dunlop-trigger-84fg-gold.640.jpg' /></a></div><div class='span6'><p>Sometimes you want to compute values automatically at 
<code>INSERT</code> time, like for
example a 
<em>duration</em> column out of a 
<em>start</em> and an 
<em>end</em> column, both
<em>timestamptz</em>. It's easy enough to do with a 
<code>BEFORE TRIGGER</code> on your table.
What's more complex is to come up with a parametrized spelling of the
trigger, where you can attach the same 
<em>stored procedure</em> to any table even
when the column names are different from one another.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../../blog/2013/08/20-Window-Functions.html'>Understanding Window Functions</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>August, 20 2013</span></div></div><div class='span2'><a class='thumbnail' href='../../../blog/2013/08/20-Window-Functions.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../../thumbnails/moving_window.gif' /></a></div><div class='span6'><p>There was SQL before 
<a href='http://www.postgresql.org/docs/current/static/tutorial-window.html'>window functions</a> and SQL after 
<em>window functions</em>: that's
how powerful this tool is. Being that of a deal breaker unfortunately means
that it can be quite hard to grasp the feature. This article aims at making
it crystal clear so that you can begin using it today and are able to reason
about it and recognize cases where you want to be using 
<em>window functions</em>.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../../blog/2013/08/05-earthdistance.html'>How far is the nearest pub?</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>August, 05 2013</span></div></div><div class='span2'><a class='thumbnail' href='../../../blog/2013/08/05-earthdistance.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../../thumbnails/latitude_and_longitude.jpg' /></a></div><div class='span6'><p>In our recent article about 
<a href='/blog/2013/08/02-pub-names-knn'>The Most Popular Pub Names</a> we did have a look at
how to find the pubs nearby, but didn't compute the 
<strong>distance</strong> in between that
pub and us. That's because how to compute a distance given a position on the
earth expressed as 
<em>longitude</em> and 
<em>latitude</em> is not that easy. Today, we are
going to solve that problem nonetheless, thanks to 
<a href='http://www.postgresql.org/docs/9.2/interactive/extend-extensions.html'>PostgreSQL Extensions</a>.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../../blog/2013/08/02-pub-names-knn.html'>The Most Popular Pub Names</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>August, 02 2013</span></div></div><div class='span2'><a class='thumbnail' href='../../../blog/2013/08/02-pub-names-knn.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../../thumbnails/openstreetmap.jpg' /></a></div><div class='span6'><p>In his article titled 
<a href='http://blog.mongodb.org/post/56876800071/the-most-popular-pub-names?utm_content=buffer4922c&utm_source=buffer&utm_medium=facebook&utm_campaign=Buffer'>The Most Popular Pub Names</a> 
<em>Ross Lawley</em> did show us how
to perform some quite interesting 
<em>geographic queries</em> against 
<a href='http://www.mongodb.org/'>MongoDB</a>, using
some nice 
<em>Open Data</em> found at the 
<a href='http://www.openstreetmap.org/'>Open Street Map</a> project.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../../blog/2013/07/05-archiving-data-fast.html'>Archiving data as fast as possible</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>July, 05 2013</span></div></div><div class='span2'><a class='thumbnail' href='../../../blog/2013/07/05-archiving-data-fast.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../../thumbnails/pipeline.png' /></a></div><div class='span6'><p>In a recent article here we've been talking about how do do 
<a href='/blog/2013/03/15-batch-update'>Batch Updates</a> in
a very efficient way, using the 
<em>Writable CTE</em> features available in
PostgreSQL 9.1. I sometime read how 
<a href='http://www.postgresql.org/docs/current/interactive/queries-with.html'>Common Table Expressions</a> changed the
life of fellow DBAs and developers, and would say that 
<em>Writable CTE</em> are at
least the same boost again.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../../blog/2013/07/04-Simple-case-for-pivoting.html'>Simple Case for Pivoting in SQL</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>July, 04 2013</span></div></div><div class='span2'><a class='thumbnail' href='../../../blog/2013/07/04-Simple-case-for-pivoting.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../../thumbnails/transpose-matrix.jpg' /></a></div><div class='span6'><p>In a recent article 
<a href='http://www.craigkerstiens.com/'>Craig Kerstiens</a> from 
<a href='https://postgres.heroku.com/'>Heroku</a> did demo the really useful
<a href='http://www.postgresql.org/docs/current/static/tablefunc.html'>crosstab</a> extension. That function allows you to 
<em>pivot</em> a table so that you
can see the data from different categories in separate columns in the same
row rather than in separate rows. The article from 
<em><strong>Craig</strong></em> is
<a href='http://www.craigkerstiens.com/2013/06/27/Pivoting-in-Postgres/'>Pivoting in Postgres</a>.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../../blog/2013/07/02-dubpug.html'>Make the Most ouf of SQL</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>July, 02 2013</span></div></div><div class='span2'><a class='thumbnail' href='../../../blog/2013/07/02-dubpug.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../../thumbnails/confs/postgresql-as-a-developer.png' /></a></div><div class='span6'><p>Tonight I had the pleasure to present a talk at the
<a href='http://www.meetup.com/PostgreSQL-user-group-Ireland-ie-pug/'>Dublin PostgreSQL User Group</a> using remote technologies. The talk is about
how to make the most ouf of PostgreSQL when using SQL as a developer, and
tries to convince you to dive into 
<em><strong>mastering SQL</strong></em> by showing how to solve an
application example all in SQL, using 
<em>window functions</em> and 
<em>common table
expressions</em>.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../../blog/2013/05/02-nearest-big-city.html'>Nearest Big City</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>May, 02 2013</span></div></div><div class='span2'><a class='thumbnail' href='../../../blog/2013/05/02-nearest-big-city.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../../thumbnails/global_accessibility-640.png' /></a></div><div class='span6'><p>In this article, we want to find the town with the greatest number of
inhabitants near a given location.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../../blog/2013/03/29-the-need-for-speed.html'>The Need For Speed</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>March, 29 2013</span></div></div><div class='span2'><a class='thumbnail' href='../../../blog/2013/03/29-the-need-for-speed.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../../thumbnails/confs/the_need_for_speed-3.png' /></a></div><div class='span6'><p>Hier se tenait la 
<a href='http://www.postgresql-sessions.org/en/5/start'>cinquième édition</a> de la conférence organisée par 
<em>dalibo</em>,
où des intervenants extérieurs sont régulièrement invités. Le thème hier
était à la fois clair et très vaste : la performance.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../../blog/2013/03/15-batch-update.html'>Batch Update</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>March, 15 2013</span></div></div><div class='span2'><a class='thumbnail' href='../../../blog/2013/03/15-batch-update.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../../thumbnails/Home-Brewing.jpg' /></a></div><div class='span6'><p>Performance consulting involves some tricks that you have to teach over and
over again. One of them is that SQL tends to be so much better at dealing
with plenty of rows in a single statement when compared to running as many
statements, each one against a single row.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../../blog/2013/02/26-hll-union.html'>HyperLogLog Unions</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>February, 26 2013</span></div></div><div class='span2'><a class='thumbnail' href='../../../blog/2013/02/26-hll-union.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../../thumbnails/SetOperations.480.png' /></a></div><div class='span6'><p>In the article from yesterday we talked about 
<a href='http://tapoueh.org/blog/2013/02/25-postgresql-hyperloglog.html'>PostgreSQL HyperLogLog</a> with
some details. The real magic of that extension has been skimmed over though,
and needs another very small article all by itself, in case you missed it.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../../blog/2013/02/25-postgresql-hyperloglog.html'>PostgreSQL HyperLogLog</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>February, 25 2013</span></div></div><div class='span2'><a class='thumbnail' href='../../../blog/2013/02/25-postgresql-hyperloglog.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../../thumbnails/cardinality1.jpg' /></a></div><div class='span6'><p>If you've been following along at home the newer statistics developments,
you might have heard about this new
<a href='http://research.google.com/pubs/pub40671.html'>State of The Art Cardinality Estimation Algorithm</a> called 
<a href='http://metamarkets.com/2012/fast-cheap-and-98-right-cardinality-estimation-for-big-data/'>HyperLogLog</a>. This
technique is now available for PostgreSQL in the extension 
<a href='http://blog.aggregateknowledge.com/2013/02/04/open-source-release-postgresql-hll/'>postgresql-hll</a>
available at 
<a href='https://github.com/aggregateknowledge/postgresql-hll'>https://github.com/aggregateknowledge/postgresql-hll</a> and soon
to be in 
<code>debian</code>.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../../blog/2012/11/02-Conference-AFUP-Lyon.html'>PostgreSQL for developers</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>November, 02 2012</span></div></div><div class='span2'><a class='thumbnail' href='../../../blog/2012/11/02-Conference-AFUP-Lyon.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../../thumbnails/confs/developper-avec-pgsql-0.png' /></a></div><div class='span6'><p>As 
<a href='http://blog.guillaume.lelarge.info/index.php/post/2012/11/01/Conf%C3%A9rence-%C3%A0-l-AFUP-Lyon'>Guillaume</a> says, we've been enjoying a great evening conference in Lyon 2
days ago, presenting PostgreSQL to developers. He did the first hour
presenting the project and the main things you want to know to start using
<a href='http://www.postgresql.org/'>PostgreSQL</a> in production, then I took the opportunity to be talking to
developers to show off some SQL.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../../blog/2012/10/05-reset-counter.html'>Reset Counter</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>October, 05 2012</span></div></div><div class='span2'><a class='thumbnail' href='../../../blog/2012/10/05-reset-counter.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../../thumbnails/postgresql-elephant.small.png' /></a></div><div class='span6'><p>I've been given a nice puzzle that I think is a good blog article
opportunity, as it involves some thinking and 
<em>window functions</em>.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../../blog/2011/05/04-tables-and-views-dependencies.html'>Tables and Views dependencies</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>May, 04 2011</span></div></div><div class='span2'><a class='thumbnail' href='../../../blog/2011/05/04-tables-and-views-dependencies.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../../thumbnails/stunning-view-table-mansion.jpg' /></a></div><div class='span6'><p>Let's say you need to 
<code>ALTER TABLE foo ALTER COLUMN bar TYPE bigint;</code>, and
<a href='http://postgresql.org'>PostgreSQL</a> is helpfully telling you that no you can't because such and such
<em>views</em> depend on the column.  The basic way to deal with that is to copy
paste from the error message the names of the views involved, then prepare a
script wherein you first 
<code>DROP VIEW ...;</code> then 
<code>ALTER TABLE</code> and finally 
<code>CREATE
VIEW</code> again, all in the same transaction.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../../blog/2010/11/24-dynamic-triggers-in-plpgsql.html'>Dynamic Triggers in PLpgSQL</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>November, 24 2010</span></div></div><div class='span2'><a class='thumbnail' href='../../../blog/2010/11/24-dynamic-triggers-in-plpgsql.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../../thumbnails/dynamic_trigger.jpg' /></a></div><div class='span6'><p>You certainly know that implementing 
<em>dynamic</em> triggers in 
<code>PLpgSQL</code> is
impossible. But I had a very bad night, being up from as soon as 3:30 am
today, so that when a developer asked me about reusing the same trigger
function code from more than one table and for a dynamic column name, I
didn't remember about it being impossible.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../../blog/2010/09/12-window-functions-example-remix.html'>Window Functions example remix</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>September, 12 2010</span></div></div><div class='span2'><a class='thumbnail' href='../../../blog/2010/09/12-window-functions-example-remix.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../../thumbnails/remix.jpg' /></a></div><div class='span6'><p>The drawback of hosting a static only website is, obviously, the lack of
comments. What happens actually, though, is that I receive very few comments
by direct mail. As I don't get another 
<em>spam</em> source to cleanup, I'm left
unconvinced that's such a drawback. I still miss the low probability of
seeing blog readers exchange directly, but I think a 
<code>tapoueh.org</code> mailing
list would be my answer, here...
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../../blog/2010/09/09-window-functions-example.html'>Window Functions example</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>September, 09 2010</span></div></div><div class='span2'><a class='thumbnail' href='../../../blog/2010/09/09-window-functions-example.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../../thumbnails/change.gif' /></a></div><div class='span6'><p>So, when 
<code>8.4</code> came out there was all those comments about how getting
<a href='http://www.postgresql.org/docs/8.4/interactive/tutorial-window.html'>window functions</a> was an awesome addition. Now, it seems that a lot of people
seeking for help in 
<a href='http://wiki.postgresql.org/index.php?title=IRC'>#postgresql</a> just don't know what kind of problem this
feature helps solving. I've already been using them in some cases here in
this blog, for getting some nice overview about
<a href='http://tapoueh.org/articles/blog/_Partitioning:_relation_size_per_%E2%80%9Cgroup%E2%80%9D.html'>Partitioning: relation size per “group”</a>.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../../blog/2010/08/30-happy-numbers.html'>Happy Numbers</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>August, 30 2010</span></div></div><div class='span2'><a class='thumbnail' href='../../../blog/2010/08/30-happy-numbers.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../../thumbnails/1_mathematics_digits.gif' /></a></div><div class='span6'><p>After discovering the excellent 
<a href='http://gwene.org/'>Gwene</a> service, which allows you to subscribe
to 
<em>newsgroups</em> to read 
<code>RSS</code> content (
<em>blogs</em>, 
<em>planets</em>, 
<em>commits</em>, etc), I came to
read this nice article about 
<a href='http://programmingpraxis.com/2010/07/23/happy-numbers/'>Happy Numbers</a>. That's a little problem that
fits well an interview style question, so I first solved it yesterday
evening in 
<a href='http://www.gnu.org/software/emacs/emacs-lisp-intro/html_node/List-Processing.html#List-Processing'>Emacs Lisp</a> as that's the language I use the most those days.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../../blog/2010/08/26-playing-with-bit-strings.html'>Playing with bit strings</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>August, 26 2010</span></div></div><div class='span2'><a class='thumbnail' href='../../../blog/2010/08/26-playing-with-bit-strings.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../../thumbnails/bitstring_logo.png' /></a></div><div class='span6'><p>The idea of the day ain't directly from me, I'm just helping with a very
thin subpart of the problem. The problem, I can't say much about, let's just
assume you want to reduce the storage of 
<code>MD5</code> in your database, so you want
to abuse 
<a href='http://www.postgresql.org/docs/8.4/interactive/datatype-bit.html'>bit strings</a>. A solution to use them works fine, but the datatype is
still missing some facilities, for example going from and to hexadecimal
representation in text.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../../blog/2010/07/26-partitioning-relation-size-per-group.html'>Partitioning: relation size per “group”</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>July, 26 2010</span></div></div><div class='span2'><a class='thumbnail' href='../../../blog/2010/07/26-partitioning-relation-size-per-group.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../../thumbnails/repart-shapeopt.png' /></a></div><div class='span6'><p>This time, we are trying to figure out where is the bulk of the data on
disk. The trick is that we're using 
<a href='http://www.postgresql.org/docs/current/static/ddl-partitioning.html'>DDL partitioning</a>, but we want a “nice”
view of size per 
<em>partition set</em>. Meaning that if you have for example a
parent table 
<code>foo</code> with partitions 
<code>foo_201006</code> and 
<code>foo_201007</code>, you would want
to see a single category 
<code>foo</code> containing the accumulated size of all the
partitions underneath 
<code>foo</code>.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../../blog/2010/03/17-finding-orphaned-sequences.html'>Finding orphaned sequences</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>March, 17 2010</span></div></div><div class='span2'><a class='thumbnail' href='../../../blog/2010/03/17-finding-orphaned-sequences.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../../thumbnails/nbt.2022-F1.640.jpg' /></a></div><div class='span6'><p>This time we're having a database where 
<em>sequences</em> were used, but not
systematically as a 
<em>default value</em> of a given column. It's mainly an historic
bad idea, but you know the usual excuse with bad ideas and bad code: the
first 6 months it's experimental, after that it's historic.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../../blog/2009/02/05-importing-xml-content-from-file.html'>Importing XML content from file</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>February, 05 2009</span></div></div><div class='span2'><a class='thumbnail' href='../../../blog/2009/02/05-importing-xml-content-from-file.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../../thumbnails/xml-to-db-simple.jpg' /></a></div><div class='span6'><p>The problem was raised this week on 
<a href='http://www.postgresql.org/community/irc'>IRC</a> and this time again I felt it would
be a good occasion for a blog entry: how to load an 
<code>XML</code> file content into a
single field?
</p></div></div></div>  </div>
  </div>
  </div>
  <div id="push"></div>
  </div>

<footer>
  <p>
    <small>Unless otherwise specified, the contents of
    <a href=../../../index.html>this website</a> are Copyright
    &#169;&#160; 2008-2013 <a href=/about>Dimitri Fontaine</a>, and are
    licensed for use under
    <a href=http://creativecommons.org/licenses/by-sa/3.0/
    rel=license><abbr title="Creative
    Commons">CC</abbr>&#160;<abbr title=Attribution>BY</abbr>-<abbr title=Share-Alike>SA</abbr>&#160;3.0</a>.</small>
  </p> 
</footer> 

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-47059482-1', 'tapoueh.org');
  ga('send', 'pageview');

</script>

</body>
</html>
