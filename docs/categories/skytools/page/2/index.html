


  




  


  

<!DOCTYPE html>
<html lang="en-us">
  <head>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Hugo 0.101.0">
    <meta name="theme" content="Tranquilpeak 0.3.1-BETA">
    <title>Skytools</title>
    <meta name="author" content="Dimitri Fontaine">
    <meta name="keywords" content="">

    <link rel="icon" href="/favicon.ico">
    
      <link rel="alternate" type="application/rss+xml" title="RSS" href="/categories/skytools/index.xml">
    

    
    <meta name="description" content="">
    <meta property="og:description" content="">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="Skytools">
    <meta property="og:url" content="https://tapoueh.org/categories/skytools/">
    <meta property="og:site_name" content="The Art of PostgreSQL">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Skytools">
    <meta name="twitter:description" content="">
    
      <meta name="twitter:creator" content="@tapoueh">
    
    

    
    

    
      <meta property="og:image" content="//www.gravatar.com/avatar/7b615d104c506aa0a49e17151fa94d9f?s=640">
    

    
    
    

    

    
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/jquery.fancybox.css" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/helpers/jquery.fancybox-thumbs.min.css" />
    
    
    <link rel="stylesheet" href="/css/style-jsjn0006wyhpyzivf6yceb31gvpjatbcs3qzjvlumobfnugccvobqwxnnaj8.min.css" />
    
    
      <link rel="stylesheet" href="https://tapoueh.org/css/dim.css">
    
      <link rel="stylesheet" href="https://tapoueh.org/css/nav.css">
    

    
      
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-47059482-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
    
    
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="5">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="navbar-collapse collapse header-title" id="navigation">
    <ul class="nav navbar-nav navbar-right">
      
      <li class="dropdown">
        
        <a style="color: black;" href="/" alt="blog"><i class="sidebar-button-icon fa fa-lg fa-home"></i></a>
        
      </li>
      
      <li class="dropdown">
        
        <a style="color: black;" href="/conf/" alt="talks"><i class="sidebar-button-icon fa fa-lg fa-microphone"></i></a>
        
      </li>
      
      <li class="dropdown">
        
        <a style="color: black;" href="https://twitter.com/tapoueh" alt="Twitter"><i class="sidebar-button-icon fa fa-lg fa-twitter"></i></a>
        
      </li>
      
      <li class="dropdown">
        
        <a style="color: black;" href="http://theartofpostgresql.com" alt="The Art Of PostgreSQL"><i class="sidebar-button-icon fa fa-lg fa-book"></i></a>
        
      </li>
      
    </ul>
  </div>

  
    
      <a class="header-right-icon "
         href="https://theartofpostgresql.com/" target="_blank">
    
    
      <i class="fa fa-lg fa-book"></i>
    
    
    </a>
  
</header>

      <nav id="sidebar" data-behavior="5">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="/#about" aria-label="">
          <img class="sidebar-profile-picture" src="//www.gravatar.com/avatar/7b615d104c506aa0a49e17151fa94d9f?s=110" alt="" />
        </a>
        <h4 class="sidebar-profile-name">Dimitri Fontaine</h4>
        
          <h5 class="sidebar-profile-bio">PostgreSQL Major Contributor</h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/" title="Blog">
    
      <i class="sidebar-button-icon fa fa-lg fa-pagelines"></i>
      
      <span class="sidebar-button-desc">Blog</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/about/" title="About">
    
      <i class="sidebar-button-icon fa fa-lg fa-beer"></i>
      
      <span class="sidebar-button-desc">About</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/categories/yesql/" title="YeSQL">
    
      <i class="sidebar-button-icon fa fa-lg fa-database"></i>
      
      <span class="sidebar-button-desc">YeSQL</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://theartofpostgresql.com" target="_blank" rel="noopener" title="The Art of PostgreSQL">
    
      <i class="sidebar-button-icon fa fa-lg fa-book"></i>
      
      <span class="sidebar-button-desc">The Art of PostgreSQL</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/dimitri" target="_blank" rel="noopener" title="GitHub">
    
      <i class="sidebar-button-icon fa fa-lg fa-github"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://twitter.com/tapoueh" target="_blank" rel="noopener" title="Twitter">
    
      <i class="sidebar-button-icon fa fa-lg fa-twitter"></i>
      
      <span class="sidebar-button-desc">Twitter</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/categories" title="Categories">
    
      <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
      
      <span class="sidebar-button-desc">Categories</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/index.xml" title="RSS">
    
      <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>


    </ul>
  </div>
</nav>

      
        

      

      <div id="blog-title">
        <h1 id="title">Category “Skytools”
          <span class="article-count">— 11 articles</span>
        </h1>
      </div>
      
      <div id="main" data-behavior="5"
        class="
               hasCoverMetaIn
               ">
        
        <section class="postShorten-group main-content-wrap">
            
            
            
  
    
  


  

<article class="postShorten postShorten--thumbnailimg-left" itemscope itemType="http://schema.org/BlogPosting">
  <div class="postShorten-wrap">
    
    <div class="postShorten-header">
      <h2 class="postShorten-title" itemprop="headline">
        <a class="link-unstyled" href="https://tapoueh.org/blog/2010/11/pg_basebackup/">
          pg_basebackup
        </a>
      </h2>
      
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="2010-11-07T13:45:00&#43;01:00">
        <span style="float: left; width: 35%">
          <i class="fa fa-calendar"></i> 
  
  
  
  
    Sunday 07 Nov 2010
  

        </span>
      </time>
    
    <span style="float: right; width: 65%">
      <i class="fa fa-clock-o"></i> 2 mins read
      
    </span>
    <span style="float: left; width: 35%">
      <i class="fa fa-bookmark"></i> 
  
  
    <span></span>
    
      <a class="category-link" href="/categories/postgresql">PostgreSQL</a>, 
    
      <a class="category-link" href="/categories/skytools">Skytools</a>
    
  

    </span>
    <div>
      <p>
        
        
        
        
        <a href="/tags/skytools/">
          <i class="fa fa-tag"></i> skytools
        </a>
        
        
        
        <a href="/tags/backup/">
          <i class="fa fa-tag"></i> backup
        </a>
        
        
      </p>
    </div>
  </div>


    </div>
    <div class="postShorten-excerpt" itemprop="articleBody">
      Hannu just gave me a good idea in this email on -hackers, proposing that pg_basebackup should get the xlog files again and again in a loop for the whole duration of the base backup. That&rsquo;s now done in the aforementioned tool, whose options got a little more useful now:
Usage: pg_basebackup.py [-v] [-f] [-j jobs] &#34;dsn&#34; dest Options: -h, --help show this help message and exit --version show version and quit -x, --pg_xlog backup the pg_xlog files -v, --verbose be verbose and about processing progress -d, --debug show debug information, including SQL queries -f, --force remove destination directory if it exists -j JOBS, --jobs=JOBS how many helper jobs to launch -D DELAY, --delay=DELAY pg_xlog subprocess loop delay, see -x -S, --slave auxilliary process --stdin get list of files to backup from stdin Yeah, as implementing the xlog idea required having some kind of parallelism, I built on it and the script now has a --jobs option for you to setup how many processes to launch in parallel, all fetching some base backup files in its own standard ( libpq) PostgreSQL connection, in compressed chunks of 8 MB (so that&rsquo;s not 8 MB chunks sent over).
      <p>
        <a href="https://tapoueh.org/blog/2010/11/pg_basebackup/" class="postShorten-excerpt_link link"></a>
        
      </p>
    </div>
  </div>
  
    <a href="https://tapoueh.org/blog/2010/11/pg_basebackup/">
      <div class="postShorten-thumbnailimg">
        <img alt="" itemprop="image" src="https://tapoueh.org/img/old/londiste_logo.gif"/>
      </div>
    </a>
  
</article>

            
            <hr />
            <article class="postShorten">
              <div class="postShorten-wrap">
                <script async
                        id="_ck_252762"
                        src="https://forms.convertkit.com/252762?v=6">
                </script>
              </div>
            </article>
            
              
                <hr />
                
  
    
  


  

<article class="postShorten postShorten--thumbnailimg-left" itemscope itemType="http://schema.org/BlogPosting">
  <div class="postShorten-wrap">
    
    <div class="postShorten-header">
      <h2 class="postShorten-title" itemprop="headline">
        <a class="link-unstyled" href="https://tapoueh.org/blog/2009/05/pgcon-2009/">
          PgCon 2009
        </a>
      </h2>
      
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="2009-05-27T14:30:00&#43;02:00">
        <span style="float: left; width: 35%">
          <i class="fa fa-calendar"></i> 
  
  
  
  
    Wednesday 27  2009
  

        </span>
      </time>
    
    <span style="float: right; width: 65%">
      <i class="fa fa-clock-o"></i> 2 mins read
      
    </span>
    <span style="float: left; width: 35%">
      <i class="fa fa-bookmark"></i> 
  
  
    <span></span>
    
      <a class="category-link" href="/categories/postgresql">PostgreSQL</a>, 
    
      <a class="category-link" href="/categories/skytools">Skytools</a>
    
  

    </span>
    <div>
      <p>
        
        
        
        
        <a href="/tags/pgcon/">
          <i class="fa fa-tag"></i> pgcon
        </a>
        
        
        
        <a href="/tags/skytools/">
          <i class="fa fa-tag"></i> skytools
        </a>
        
        
      </p>
    </div>
  </div>


    </div>
    <div class="postShorten-excerpt" itemprop="articleBody">
      I can&rsquo;t really compare PgCon 2009 with previous years versions, last time I enjoyed the event it was in 2006, in Toronto. But still I found the experience to be a great one, and I hope I&rsquo;ll be there next year too!
I&rsquo;ve met a lot of known people in the community, some of them I already had the chance to run into at Toronto or Prato, but this was the first time I got to talk to many of them about interresting projects and ideas.
      <p>
        <a href="https://tapoueh.org/blog/2009/05/pgcon-2009/" class="postShorten-excerpt_link link"></a>
        
      </p>
    </div>
  </div>
  
    <a href="https://tapoueh.org/blog/2009/05/pgcon-2009/">
      <div class="postShorten-thumbnailimg">
        <img alt="" itemprop="image" src="https://tapoueh.org/img/old/conferences.jpg"/>
      </div>
    </a>
  
</article>

              
                <hr />
                
  
    
  


  

<article class="postShorten postShorten--thumbnailimg-left" itemscope itemType="http://schema.org/BlogPosting">
  <div class="postShorten-wrap">
    
    <div class="postShorten-header">
      <h2 class="postShorten-title" itemprop="headline">
        <a class="link-unstyled" href="https://tapoueh.org/blog/2009/02/skytools-ticker-daemon-and-londiste/">
          Skytools ticker daemon and londiste
        </a>
      </h2>
      
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="2009-02-03T00:00:00&#43;01:00">
        <span style="float: left; width: 35%">
          <i class="fa fa-calendar"></i> 
  
  
  
  
    Tuesday 03 Feb 2009
  

        </span>
      </time>
    
    <span style="float: right; width: 65%">
      <i class="fa fa-clock-o"></i> 1 mins read
      
    </span>
    <span style="float: left; width: 35%">
      <i class="fa fa-bookmark"></i> 
  
  
    <span></span>
    
      <a class="category-link" href="/categories/postgresql">PostgreSQL</a>, 
    
      <a class="category-link" href="/categories/skytools">Skytools</a>
    
  

    </span>
    <div>
      <p>
        
        
        <a href="/tags/skytools/">
          <i class="fa fa-tag"></i> skytools
        </a>
        
        
      </p>
    </div>
  </div>


    </div>
    <div class="postShorten-excerpt" itemprop="articleBody">
      One of the difficulties in getting to understand and configure londiste reside in the relation between the ticker and the replication. This question was raised once more on IRC yesterday, so I made a new FAQ entry about it: How do this ticker thing relates to londiste?
      <p>
        <a href="https://tapoueh.org/blog/2009/02/skytools-ticker-daemon-and-londiste/" class="postShorten-excerpt_link link"></a>
        
      </p>
    </div>
  </div>
  
    <a href="https://tapoueh.org/blog/2009/02/skytools-ticker-daemon-and-londiste/">
      <div class="postShorten-thumbnailimg">
        <img alt="" itemprop="image" src="https://tapoueh.org/img/old/article2.gif"/>
      </div>
    </a>
  
</article>

              
                <hr />
                
  
    
  


  

<article class="postShorten postShorten--thumbnailimg-left" itemscope itemType="http://schema.org/BlogPosting">
  <div class="postShorten-wrap">
    
    <div class="postShorten-header">
      <h2 class="postShorten-title" itemprop="headline">
        <a class="link-unstyled" href="https://tapoueh.org/blog/2009/01/comparing-londiste-and-slony/">
          Comparing Londiste and Slony
        </a>
      </h2>
      
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="2009-01-31T00:00:00&#43;01:00">
        <span style="float: left; width: 35%">
          <i class="fa fa-calendar"></i> 
  
  
  
  
    Saturday 31 Jan 2009
  

        </span>
      </time>
    
    <span style="float: right; width: 65%">
      <i class="fa fa-clock-o"></i> 1 mins read
      
    </span>
    <span style="float: left; width: 35%">
      <i class="fa fa-bookmark"></i> 
  
  
    <span></span>
    
      <a class="category-link" href="/categories/postgresql">PostgreSQL</a>, 
    
      <a class="category-link" href="/categories/skytools">Skytools</a>
    
  

    </span>
    <div>
      <p>
        
        
        
        
        <a href="/tags/skytools/">
          <i class="fa fa-tag"></i> skytools
        </a>
        
        
      </p>
    </div>
  </div>


    </div>
    <div class="postShorten-excerpt" itemprop="articleBody">
      In the page about Skytools I&rsquo;ve encouraged people to ask some more questions in order for me to be able to try and answer them. That just happened, as usual on the #postgresql IRC, and the question is What does londiste lack that slony has?
      <p>
        <a href="https://tapoueh.org/blog/2009/01/comparing-londiste-and-slony/" class="postShorten-excerpt_link link"></a>
        
      </p>
    </div>
  </div>
  
    <a href="https://tapoueh.org/blog/2009/01/comparing-londiste-and-slony/">
      <div class="postShorten-thumbnailimg">
        <img alt="" itemprop="image" src="https://tapoueh.org/img/old/article2.gif"/>
      </div>
    </a>
  
</article>

              
                <hr />
                
  
    
  


  

<article class="postShorten postShorten--thumbnailimg-left" itemscope itemType="http://schema.org/BlogPosting">
  <div class="postShorten-wrap">
    
    <div class="postShorten-header">
      <h2 class="postShorten-title" itemprop="headline">
        <a class="link-unstyled" href="https://tapoueh.org/blog/2009/01/londiste-trick/">
          Londiste Trick
        </a>
      </h2>
      
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="2009-01-21T00:00:00&#43;01:00">
        <span style="float: left; width: 35%">
          <i class="fa fa-calendar"></i> 
  
  
  
  
    Wednesday 21 Jan 2009
  

        </span>
      </time>
    
    <span style="float: right; width: 65%">
      <i class="fa fa-clock-o"></i> 2 mins read
      
    </span>
    <span style="float: left; width: 35%">
      <i class="fa fa-bookmark"></i> 
  
  
    <span></span>
    
      <a class="category-link" href="/categories/postgresql">PostgreSQL</a>, 
    
      <a class="category-link" href="/categories/skytools">Skytools</a>
    
  

    </span>
    <div>
      <p>
        
        
        
        
        <a href="/tags/skytools/">
          <i class="fa fa-tag"></i> Skytools
        </a>
        
        
      </p>
    </div>
  </div>


    </div>
    <div class="postShorten-excerpt" itemprop="articleBody">
      So, you&rsquo;re using londiste and the ticker has not been running all night long, due to some restart glitch in your procedures, and the on call admin didn&rsquo;t notice the restart failure. If you blindly restart the replication daemon, it will load in memory all those events produced during the night, at once, because you now have only one tick where to put them all.
The following query allows you to count how many events that represents, with the magic tick numbers coming from pgq.
      <p>
        <a href="https://tapoueh.org/blog/2009/01/londiste-trick/" class="postShorten-excerpt_link link"></a>
        
      </p>
    </div>
  </div>
  
    <a href="https://tapoueh.org/blog/2009/01/londiste-trick/">
      <div class="postShorten-thumbnailimg">
        <img alt="" itemprop="image" src="https://tapoueh.org/img/old/londiste_logo.gif"/>
      </div>
    </a>
  
</article>

              
            
            
  <div class="pagination-bar">
    <ul class="pagination">
      
        
          <li class="pagination-prev">
            <a class="btn btn--default btn--small" href="/categories/skytools/" aria-label="">
              <i class="fa fa-angle-left text-base icon-mr"></i>
              <span></span>
            </a>
          </li>
        
        
          <li class="pagination-next">
            <a class="btn btn--default btn--small" href="/categories/skytools/page/3/" aria-label="">
              <span></span>
              <i class="fa fa-angle-right text-base icon-ml"></i>
            </a>
          </li>
        
      
      <li class="pagination-number"> </li>
    </ul>
  </div>


          </section>
        
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2022 Dimitri Fontaine. 
  </span>
</footer>

      </div>
    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-times"></i>
    </div>
    
      <img id="about-card-picture" src="//www.gravatar.com/avatar/7b615d104c506aa0a49e17151fa94d9f?s=110" alt="" />
    
    <h4 id="about-card-name">Dimitri Fontaine</h4>
    
      <div id="about-card-bio">PostgreSQL Major Contributor</div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        Open Source Software Engineer
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker-alt"></i>
        <br/>
        France
      </div>
    
  </div>
</div>

    

    
  
    
      
      <div id="cover" style="background-image:url('https://tapoueh.org/images/mayan-calendar.jpg');"></div>
    
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/highlight.min.js" integrity="sha512-z+/WWfyD5tccCukM4VvONpEtLmbAm5LDu7eKiyMQJ9m7OfPEDL7gENyDRL3Yfe8XAuGsS2fS4xSMnl6d30kqGQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha512-uURl+ZXMBrF4AwGaWmEetzrd+J5/8NRkWAvJx5sbPSSuOb0bZLqf+tOzniObO00BjHa/dD7gub9oCGMLPQHtQA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>


<script src="https://tapoueh.org/js/script-yqzy9wdlzix4lbbwdnzvwx3egsne77earqmn73v9uno8aupuph8wfguccut.min.js"></script>



<script>
$(document).ready(function() {
  hljs.configure({ classPrefix: '', useBR: false });
  $('pre.code-highlight > code, pre > code').each(function(i, block) {
    if (!$(this).hasClass('codeblock')) {
      $(this).addClass('codeblock');
    }
    hljs.highlightBlock(block);
  });
});
</script>




    
  </body>
</html>

