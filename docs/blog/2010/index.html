<!DOCTYPE HTML>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta charset=utf-8 /> 
    <meta name=viewport content="width=device-width" /> 
    <meta name="generator" content="Emacs Muse Blog" /> 
    <meta description="blog de Dimitri Fontaine, Expert PostgreSQL - 2ndQuadrant France" />
    <meta property="og:title" content="tapoueh.org"/>
    <meta property="og:type" content="non_profit"/>
    <meta property="og:url" content="http://tapoueh.org/blog/2010/"/>
    <meta property="og:image" content="http://tapoueh.org/static/2ndQuadrant-cross.png"/>
    <meta property="og:site_name" content="Tapoueh"/>
    <meta property="fb:admins" content="545062436"/>

    <title>Expertise PostgreSQL</title>
    <link rel='stylesheet' type='text/css' media='all' href='../../static/styles.css' />
    <link rel='stylesheet' type='text/css' medial='all' href='../../static/bootstrap/css/bootstrap.min.css' />
    <link rel='stylesheet' type='text/css' medial='all' href='../../static/FontAwesome/css/font-awesome.min.css' />

    <link rel='stylesheet' type='text/css' medial='all' href='../../static/highlight.js/styles/sunburst.css' />
    <script type='text/javascript' src='../../static/highlight.js/highlight.pack.js'></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <script type='text/javascript' src='../../static/jquery-1.9.1.min.js'></script>
    <link rel='stylesheet' type='text/css' medial='all' href='../../static/jqcloud.css' />
    <script type='text/javascript' src='../../static/jqcloud-1.0.4.min.js'></script>

    <!-- <link href="/static/bootstrap/css/bootstrap.min.css" rel="stylesheet"/>
    <link rel="stylesheet" href="/static/FontAwesome/css/font-awesome.min.css"/>
    <link rel="stylesheet" href="/static/highlight.js/styles/sunburst.css">
    <script src="/static/highlight.js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <script src="/static/jquery-1.9.1.min.js"></script>
    <link rel="stylesheet" type="text/css" href="/static/jqcloud.css" />
    <script type="text/javascript" src="/static/jqcloud-1.0.4.min.js"></script>
    -->

    <script type="text/javascript" src="http://apis.google.com/js/plusone.js">{lang: 'fr'}</script>
    
  </head>
  <body>

   <div id="wrap">

    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="nav-collapse collapse">
	<p class="pull-right">
	  <a href="http://2ndquadrant.com">
	    <img alt="logo" src="/static/2ndQuadrant-cross.png"
		 style="margin-right: 8px; margin-top: 4px; height: 32px;"/>
	  </a>
	</p>
	<div class="navbar-inner">
	 <a class="brand" style="margin-left: 0.2em; margin-top: -4px;"
	    href="http://expert-postgresql.fr/">
	  <img src="/static/expert-postgresql.png"></a>
	 <ul class="nav">
	   <li><a href="../../blog/index.html">
               <i class="icon-book"></i> blog</a>
           </li>
	   <li><a href="../../projects.html">
               <i class="icon-suitcase"></i> projects</a>
           </li>
	   <li><a href="../../conferences.html">
               <i class="icon-plane"></i> confs</a>
           </li>
	   <li><a href="../../about.html">
               <i class="icon-beer"></i> about</a>
           </li>
	   <li><a href="../../rss/tapoueh.xml">
               <i class="icon-rss"></i> rss</a>
           </li>
	 </ul>
	</div>
      </div>
    </div>

    <div class="container">
      <div class="row">
	<div class="span4">
	  <div><ul class='breadcrumb'><li><span class='divider'><i class='icon-sitemap'></i></span></li><li><a href='../../'>/dev/dim</a><span class='divider'>/</span></li><li><a href='../../blog'>blog</a><span class='divider'>/</span></li><li><a href='../../blog/2010'>2010</a></li></ul></div>
	  
	  
	  

	  <div style="margin-top: 1em;">
	    
	    
	  </div>

	  <div id="prevnext">
	    
	    <div><a class='previous' href='../../blog/2009'>« 2009</a></div>
	    <div><a class='next pull-right' href='../../blog/2011'>2011 »</a></div>
	  </div>
	  
	  <div>
	    <div id="left-tag-cloud" class="jqcloud"
		 style="width: 300px; height: 650px; position: absolute; top: 475px;">
	    </div>
            <script>
            var word_list;
            
            $.ajax({
                type: 'GET',
                url: '/cloud.json',
                dataType: 'json',
                success: function(response) { word_list = response; },
                data: {},
                async: false
            });
             
            $(document).ready(function() {
               $("#left-tag-cloud").jQCloud(word_list,
	                {shape: "rectangular",
	                 removeOverflowing: false});
            });
            </script>
	  </div>

	</div>

	<div id="title" class="span8">
	  <h1></h1>
	</div>
	
	<div id="content" class="span8">
<div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../blog/2010/12/20-el-get-11-with-174-recipes.html'>el-get 1.1, with 174 recipes</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>December, 20 2010</span></div></div><div class='span2'><a class='thumbnail' href='../../blog/2010/12/20-el-get-11-with-174-recipes.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../thumbnails/debian-logo.png' /></a></div><div class='span6'><p>Yes, you read it well, 
<a href='https://github.com/dimitri/el-get'>el-get</a> currently 
<em>features</em> 
<code>174</code> 
<a href='https://github.com/dimitri/el-get/tree/master/recipes'>recipes</a>, and is now
reaching the 
<code>1.1</code> release. The reason for this release is mainly that I have
two big chunks of code to review and the current code has been very stable
for awhile. It seems better to do a release with the stable code that exists
now before to shake it this much. If you're wondering when to jump in the
water and switch to using 
<em>el-get</em>, now is a pretty good time.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../blog/2010/11/24-dynamic-triggers-in-plpgsql.html'>Dynamic Triggers in PLpgSQL</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>November, 24 2010</span></div></div><div class='span2'><a class='thumbnail' href='../../blog/2010/11/24-dynamic-triggers-in-plpgsql.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../thumbnails/dynamic_trigger.jpg' /></a></div><div class='span6'><p>You certainly know that implementing 
<em>dynamic</em> triggers in 
<code>PLpgSQL</code> is
impossible. But I had a very bad night, being up from as soon as 3:30 am
today, so that when a developer asked me about reusing the same trigger
function code from more than one table and for a dynamic column name, I
didn't remember about it being impossible.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../blog/2010/11/07-pg_basebackup.html'>pg_basebackup</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>November, 07 2010</span></div></div><div class='span2'><a class='thumbnail' href='../../blog/2010/11/07-pg_basebackup.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../thumbnails/londiste_logo.gif' /></a></div><div class='span6'><p><a href='http://2ndquadrant.com/about/#krosing'>Hannu</a> just gave me a good idea in 
<a href='http://archives.postgresql.org/pgsql-hackers/2010-11/msg00236.php'>this email</a> on 
<a href='http://archives.postgresql.org/pgsql-hackers/'>-hackers</a>, proposing that
<a href='https://github.com/dimitri/pg_basebackup'>pg_basebackup</a> should get the 
<code>xlog</code> files again and again in a loop for the
whole duration of the 
<em>base backup</em>. That's now done in the aforementioned
tool, whose options got a little more useful now:
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../blog/2010/10/21-introducing-extensions.html'>Introducing Extensions</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>October, 21 2010</span></div></div><div class='span2'><a class='thumbnail' href='../../blog/2010/10/21-introducing-extensions.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../thumbnails/postgresql-elephant.small.png' /></a></div><div class='span6'><p>After reading 
<a href='http://database-explorer.blogspot.com/2010/10/extensions-in-91.html'>Simon's blog post</a>, I can't help but try to give some details
about what it is exactly that I'm working on. As he said, there are several
aspects to 
<em>extensions</em> in 
<a href='http://www.postgresql.org/'>PostgreSQL</a>, it all begins here:
<a href='http://www.postgresql.org/docs/9.0/interactive/extend.html'>Chapter 35. Extending SQL</a>.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../blog/2010/10/15-extensions-writing-a-patch-for-postgresql.html'>Extensions: writing a patch for PostgreSQL</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>October, 15 2010</span></div></div><div class='span2'><a class='thumbnail' href='../../blog/2010/10/15-extensions-writing-a-patch-for-postgresql.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../thumbnails/postgresql-elephant.small.png' /></a></div><div class='span6'><p>These days, thanks to my 
<a href='http://2ndquadrant.com/'>community oriented job</a>, I'm working full time on a
<a href='http://www.postgresql.org/'>PostgreSQL</a> patch to terminate basic support for 
<a href='http://www.postgresql.org/docs/9/static/extend.html'>extending SQL</a>. First thing I
want to share is that patching the 
<em>backend code</em> is not as hard as one would
think. Second one is that 
<a href='http://git-scm.com/'>git</a> really is helping.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../blog/2010/10/08-date-puzzle-for-starters.html'>Date puzzle for starters</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>October, 08 2010</span></div></div><div class='span2'><a class='thumbnail' href='../../blog/2010/10/08-date-puzzle-for-starters.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../thumbnails/tips-and-tricks.jpg' /></a></div><div class='span6'><p>The 
<a href='http://www.postgresql.org/'>PostgreSQL</a> 
<code>IRC</code> channel is a good place to be, for all the very good help
you can get there, because people are always wanting to remain helpful,
because of the off-topics discussions sometime, or to get to talk with
community core members. And to start up your day too.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../blog/2010/10/07-resuming-work-on-extensions-first-little-step.html'>Resuming work on Extensions, first little step</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>October, 07 2010</span></div></div><div class='span2'><a class='thumbnail' href='../../blog/2010/10/07-resuming-work-on-extensions-first-little-step.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../thumbnails/postgresql-elephant.small.png' /></a></div><div class='span6'><p>Yeah I'm back on working on my part of the extension thing in 
<a href='http://www.postgresql.org/'>PostgreSQL</a>.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../blog/2010/10/07-el-get-reaches-10.html'>el-get reaches 1.0</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>October, 07 2010</span></div></div><div class='span2'><a class='thumbnail' href='../../blog/2010/10/07-el-get-reaches-10.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../thumbnails/el-get.big.png' /></a></div><div class='span6'><p>It's been a week since the last commits in the 
<a href='http://github.com/dimitri/el-get'>el-get repository</a>, and those
were all about fixing and adding recipes, and about notifications. Nothing
like 
<em>core plumbing</em> you see. Also, 
<code>0.9</code> was released on 
<em>2010-08-24</em> and felt
pretty complete already, then received lots of improvements. It's high time
to cross the line and call it 
<code>1.0</code>!
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../blog/2010/09/26-regexp-performances-and-finite-automata.html'>Regexp performances and Finite Automata</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>September, 26 2010</span></div></div><div class='span2'><a class='thumbnail' href='../../blog/2010/09/26-regexp-performances-and-finite-automata.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../thumbnails/postgresql-elephant.small.png' /></a></div><div class='span6'><p>The major reason why I dislike 
<a href='http://www.perl.org/'>perl</a> so much, and 
<a href='http://www.ruby-lang.org'>ruby</a> too, and the thing I'd
want different in the 
<a href='http://www.gnu.org/software/emacs/manual/elisp.html'>Emacs Lisp</a> 
<code>API</code> so far is how they set developers mind
into using 
<a href='http://www.regular-expressions.info/'>regexp</a>. You know the quote, don't you?
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../blog/2010/09/23-postfix-sender_dependent_relayhost_maps.html'>Postfix sender_dependent_relayhost_maps</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>September, 23 2010</span></div></div><div class='span2'><a class='thumbnail' href='../../blog/2010/09/23-postfix-sender_dependent_relayhost_maps.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../thumbnails/article2.gif' /></a></div><div class='span6'><p>The previous article about 
<a href='http://tapoueh.org/articles/news/_Scratch_that_itch:_M-x_mailq.html'>M-x mailq</a> has raised several mails asking me
details about the 
<a href='http://www.postfix.com/'>Postfix</a> setup I'm talking about. The problem we're trying
to solve is having a local 
<code>MTA</code> to send mails, so that any old-style Unix
tool just works, instead of only the 
<code>MUA</code> you've spent time setting up.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../blog/2010/09/23-scratch-that-itch-m-x-mailq.html'>Scratch that itch: M-x mailq</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>September, 23 2010</span></div></div><div class='span2'><a class='thumbnail' href='../../blog/2010/09/23-scratch-that-itch-m-x-mailq.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../thumbnails/el-get.big.png' /></a></div><div class='span6'><p>Nowadays, most people would think that email is something simple, you just
setup your preferred client (that's called a 
<code>MUA</code>) with some information such
as the 
<code>smtp</code> host you want it to talk to (that's call a 
<code>MTA</code> and this one is
your 
<code>relayhost</code>). Then there's all the receiving mails part, and that's 
<code>smtp</code>
again on the server side. Then there's how to get those mail, read them,
flag them, manage them, and that's better served by 
<code>IMAP</code>. Let's talk about
sending mails in 
<code>smtp</code> for this entry.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../blog/2010/09/13-switch-window-reaches-08.html'>switch-window reaches 0.8</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>September, 13 2010</span></div></div><div class='span2'><a class='thumbnail' href='../../blog/2010/09/13-switch-window-reaches-08.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../thumbnails/el-get.big.png' /></a></div><div class='span6'><p>I wanted to play with the idea of using the whole keyboard for my
<a href='http://github.com/dimitri/switch-window'>switch-window</a> utility, but wondered how to get those keys in the right order
and all. Finally found 
<code>quail-keyboard-layout</code> which seems to exists for such
uses, as you can see:
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../blog/2010/09/12-window-functions-example-remix.html'>Window Functions example remix</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>September, 12 2010</span></div></div><div class='span2'><a class='thumbnail' href='../../blog/2010/09/12-window-functions-example-remix.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../thumbnails/remix.jpg' /></a></div><div class='span6'><p>The drawback of hosting a static only website is, obviously, the lack of
comments. What happens actually, though, is that I receive very few comments
by direct mail. As I don't get another 
<em>spam</em> source to cleanup, I'm left
unconvinced that's such a drawback. I still miss the low probability of
seeing blog readers exchange directly, but I think a 
<code>tapoueh.org</code> mailing
list would be my answer, here...
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../blog/2010/09/09-window-functions-example.html'>Window Functions example</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>September, 09 2010</span></div></div><div class='span2'><a class='thumbnail' href='../../blog/2010/09/09-window-functions-example.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../thumbnails/change.gif' /></a></div><div class='span6'><p>So, when 
<code>8.4</code> came out there was all those comments about how getting
<a href='http://www.postgresql.org/docs/8.4/interactive/tutorial-window.html'>window functions</a> was an awesome addition. Now, it seems that a lot of people
seeking for help in 
<a href='http://wiki.postgresql.org/index.php?title=IRC'>#postgresql</a> just don't know what kind of problem this
feature helps solving. I've already been using them in some cases here in
this blog, for getting some nice overview about
<a href='http://tapoueh.org/articles/blog/_Partitioning:_relation_size_per_%E2%80%9Cgroup%E2%80%9D.html'>Partitioning: relation size per “group”</a>.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../blog/2010/09/06-synchronous-replication.html'>Synchronous Replication</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>September, 06 2010</span></div></div><div class='span2'><a class='thumbnail' href='../../blog/2010/09/06-synchronous-replication.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../thumbnails/postgresql-elephant.small.png' /></a></div><div class='span6'><p>Although the new asynchronous replication facility that ships with 9.0 ain't
released to the wide public yet, our hackers hero are already working on the
synchronous version of it. A part of the facility is rather easy to design,
we want something comparable to 
<a href='http://www.drbd.org/'>DRBD</a> flexibility, but specific to our
database world.  So 
<em>synchronous</em> would either mean 
<em>recv</em>, 
<em>fsync</em> or 
<em>apply</em>,
depending on what you need the 
<em>standby</em> to have already done when the master
acknowledges the 
<code>COMMIT</code>. Let's call that the 
<em>service level</em>.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../blog/2010/08/31-want-to-share-your-recipes.html'>Want to share your recipes?</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>August, 31 2010</span></div></div><div class='span2'><a class='thumbnail' href='../../blog/2010/08/31-want-to-share-your-recipes.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../thumbnails/el-get.big.png' /></a></div><div class='span6'><p>Yes, that's another 
<a href='http://github.com/dimitri/el-get/'>el-get</a> related entry. It seems to take a lot of my
attention these days. After having setup the 
<code>git</code> repository so that you can
update 
<code>el-get</code> from within itself (so that it's 
<em>self-contained</em>), the next
logical step is providing 
<em>recipes</em>.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../blog/2010/08/30-happy-numbers.html'>Happy Numbers</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>August, 30 2010</span></div></div><div class='span2'><a class='thumbnail' href='../../blog/2010/08/30-happy-numbers.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../thumbnails/1_mathematics_digits.gif' /></a></div><div class='span6'><p>After discovering the excellent 
<a href='http://gwene.org/'>Gwene</a> service, which allows you to subscribe
to 
<em>newsgroups</em> to read 
<code>RSS</code> content (
<em>blogs</em>, 
<em>planets</em>, 
<em>commits</em>, etc), I came to
read this nice article about 
<a href='http://programmingpraxis.com/2010/07/23/happy-numbers/'>Happy Numbers</a>. That's a little problem that
fits well an interview style question, so I first solved it yesterday
evening in 
<a href='http://www.gnu.org/software/emacs/emacs-lisp-intro/html_node/List-Processing.html#List-Processing'>Emacs Lisp</a> as that's the language I use the most those days.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../blog/2010/08/27-welcome-el-get-scratch-installer.html'>welcome el-get scratch installer</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>August, 27 2010</span></div></div><div class='span2'><a class='thumbnail' href='../../blog/2010/08/27-welcome-el-get-scratch-installer.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../thumbnails/el-get.big.png' /></a></div><div class='span6'><p>A very good remark from some users: installing and managing 
<code>el-get</code> should be
simpler. They wanted both an easy install of the thing, and a way to be able
to manage it afterwards (like, update the local copy against the
authoritative source). So I decided it was high time for getting the code
out of my 
<code>~/.emacs.d</code> git repository and up to a public place:
<a href='http://github.com/dimitri/el-get'>http://github.com/dimitri/el-get</a>.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../blog/2010/08/26-playing-with-bit-strings.html'>Playing with bit strings</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>August, 26 2010</span></div></div><div class='span2'><a class='thumbnail' href='../../blog/2010/08/26-playing-with-bit-strings.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../thumbnails/bitstring_logo.png' /></a></div><div class='span6'><p>The idea of the day ain't directly from me, I'm just helping with a very
thin subpart of the problem. The problem, I can't say much about, let's just
assume you want to reduce the storage of 
<code>MD5</code> in your database, so you want
to abuse 
<a href='http://www.postgresql.org/docs/8.4/interactive/datatype-bit.html'>bit strings</a>. A solution to use them works fine, but the datatype is
still missing some facilities, for example going from and to hexadecimal
representation in text.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../blog/2010/08/26-el-get-news.html'>el-get news</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>August, 26 2010</span></div></div><div class='span2'><a class='thumbnail' href='../../blog/2010/08/26-el-get-news.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../thumbnails/el-get.big.png' /></a></div><div class='span6'><p>I've been receiving some requests for 
<a href='http://www.emacswiki.org/emacs/el-get.el'>el-get</a>, some of them even included a
patch. So now there's support for 
<code>bzr</code>, 
<code>CSV</code> and 
<code>http-tar</code>, augmenting the
existing support for 
<code>git</code>, 
<code>git-svn</code>, 
<code>apt-get</code>, 
<code>fink</code> and 
<code>ELPA</code> formats.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../blog/2010/08/09-el-get-and-dim-switch-window-status-update.html'>el-get and dim-switch-window status update</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>August, 09 2010</span></div></div><div class='span2'><a class='thumbnail' href='../../blog/2010/08/09-el-get-and-dim-switch-window-status-update.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../thumbnails/el-get.big.png' /></a></div><div class='span6'><p>Thanks to you readers of 
<a href='http://planet.emacsen.org/'>Planet Emacsen</a> taking the time to try those pieces
of emacs lisp found in my blog, and also the time to comment on them, some
bugs have been fixed, and new releases appeared.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../blog/2010/08/09-editing-constants-in-constraints.html'>Editing constants in constraints</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>August, 09 2010</span></div></div><div class='span2'><a class='thumbnail' href='../../blog/2010/08/09-editing-constants-in-constraints.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../thumbnails/library-card-catalogs.small.jpg' /></a></div><div class='span6'><p>We're using constants in some constraints here, for example in cases where
several servers are replicating to the same 
<em>federating</em> one: each origin
server has his own schema, and all is replicated nicely on the central host,
thanks to 
<a href='http://wiki.postgresql.org/wiki/Londiste_Tutorial#Federated_database'>Londiste</a>, as you might have guessed already.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../blog/2010/08/06-debian-packaging-postgresql-extensions.html'>debian packaging PostgreSQL extensions</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>August, 06 2010</span></div></div><div class='span2'><a class='thumbnail' href='../../blog/2010/08/06-debian-packaging-postgresql-extensions.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../thumbnails/debian-logo.png' /></a></div><div class='span6'><p>In trying to help an extension 
<em>debian packaging</em> effort, I've once again
proposed to handle it. That's because I now begin to know how to do it, as
you can see in my 
<a href='http://qa.debian.org/developer.php?login=dim%40tapoueh.org'>package overview</a> page at 
<em>debian QA</em> facility. There's a
reason why I proposed myself here, it's that yet another tool of mine is now
to be found in 
<em>debian</em>, and should greatly help 
<em>extension packaging</em>
there. You can already check for the 
<a href='http://packages.debian.org/sid/postgresql-server-dev-all'>postgresql-server-dev-all</a> package page
if you're that impatient!
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../blog/2010/08/05-querying-the-catalog-to-plan-an-upgrade.html'>Querying the Catalog to plan an upgrade</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>August, 05 2010</span></div></div><div class='span2'><a class='thumbnail' href='../../blog/2010/08/05-querying-the-catalog-to-plan-an-upgrade.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../thumbnails/library-card-catalogs.small.jpg' /></a></div><div class='span6'><p>Some user on 
<code>IRC</code> was reading the releases notes in order to plan for a minor
upgrade of his 
<code>8.3.3</code> installation, and was puzzled about potential needs for
rebuilding 
<code>GIST</code> indexes. That's from the 
<a href='http://www.postgresql.org/docs/8.3/static/release-8-3-5.html'>8.3.5 release notes</a>, and from the
<a href='http://www.postgresql.org/docs/8.3/static/release-8-3-8.html'>8.3.8 notes</a> you see that you need to consider 
<em>hash</em> indexes on 
<em>interval</em>
columns too. Now the question is, how to find out if any such beasts are in
use in your database?
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../blog/2010/08/04-el-get.html'>el-get</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>August, 04 2010</span></div></div><div class='span2'><a class='thumbnail' href='../../blog/2010/08/04-el-get.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../thumbnails/debian-logo.png' /></a></div><div class='span6'><p>I've been using emacs for a long time, and a long time it took me to
consider learning 
<a href='http://www.gnu.org/software/emacs/emacs-lisp-intro/html_node/index.html'>Emacs Lisp</a>. Before that, I didn't trust my level of
understanding enough to be comfortable in managing my setup efficiently.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../blog/2010/08/03-database-virtual-machines.html'>Database Virtual Machines</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>August, 03 2010</span></div></div><div class='span2'><a class='thumbnail' href='../../blog/2010/08/03-database-virtual-machines.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../thumbnails/postgresql-elephant.small.png' /></a></div><div class='span6'><p>Today I'm being told once again about 
<a href='http://www.sqlite.org/'>SQLite</a> as an embedded database
software. That one ain't a 
<em>database server</em> but a 
<em>software library</em> that you
can use straight into your main program. I'm yet to use it, but it looks
like 
<a href='http://www.sqlite.org/lang.html'>its SQL support</a> is good enough for simple things — and that covers
<em>loads</em> of things. I guess read-only cache and configuration storage would be
the obvious ones, because it seems that 
<a href='http://www.sqlite.org/whentouse.html'>SQLite use cases</a> aren't including
<a href='http://www.sqlite.org/lockingv3.html'>mixed concurrency</a>, that is workloads with concurrent readers and writers.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../blog/2010/07/26-partitioning-relation-size-per-group.html'>Partitioning: relation size per “group”</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>July, 26 2010</span></div></div><div class='span2'><a class='thumbnail' href='../../blog/2010/07/26-partitioning-relation-size-per-group.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../thumbnails/repart-shapeopt.png' /></a></div><div class='span6'><p>This time, we are trying to figure out where is the bulk of the data on
disk. The trick is that we're using 
<a href='http://www.postgresql.org/docs/current/static/ddl-partitioning.html'>DDL partitioning</a>, but we want a “nice”
view of size per 
<em>partition set</em>. Meaning that if you have for example a
parent table 
<code>foo</code> with partitions 
<code>foo_201006</code> and 
<code>foo_201007</code>, you would want
to see a single category 
<code>foo</code> containing the accumulated size of all the
partitions underneath 
<code>foo</code>.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../blog/2010/07/26-dim-switch-windowel-fixes.html'>dim-switch-window.el: fixes</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>July, 26 2010</span></div></div><div class='span2'><a class='thumbnail' href='../../blog/2010/07/26-dim-switch-windowel-fixes.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../thumbnails/emacs-logo.png' /></a></div><div class='span6'><p>Thanks to amazing readers of 
<a href='http://planet.emacsen.org/'>planet emacsen</a>, two annoyances of
<a href='http://www.emacswiki.org/emacs/switch-window.el'>switch-window.el</a> have already been fixed! The first is that handling of 
<code>C-g</code>
isn't exactly an option after all, and the other is that you want to avoid
the buffer creation in the simple cases (1 or 2 windows only), because it's
the usual case.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../blog/2010/07/25-dim-switch-windowel.html'>dim-switch-window.el</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>July, 25 2010</span></div></div><div class='span2'><a class='thumbnail' href='../../blog/2010/07/25-dim-switch-windowel.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../thumbnails/emacs-switch-window.png' /></a></div><div class='span6'><p>So it's Sunday and I'm thinking I'll get into 
<code>el-get</code> sometime later. Now is
the time to present 
<code>dim-switch-window.el</code> which implements a 
<em>visual</em> 
<code>C-x o</code>. I
know of only one way to present a 
<em>visual effect</em>, and that's with a screenshot:
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../blog/2010/07/23-clusterssh-gets-dsh-support.html'>ClusterSSH gets dsh support</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>July, 23 2010</span></div></div><div class='span2'><a class='thumbnail' href='../../blog/2010/07/23-clusterssh-gets-dsh-support.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../thumbnails/el-get.big.png' /></a></div><div class='span6'><p>If you don't know about 
<a href='cssh.html'>ClusterSSH</a>, it's a project that builds on 
<code>M-x term</code>
and 
<code>ssh</code> to offer a nice and simple way to open remote terminals. It's
available in 
<a href='http://tromey.com/elpa/index.html'>ELPA</a> and developed at 
<a href='http://github.com/dimitri/cssh'>github cssh</a> repository.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../blog/2010/07/22-emacs-and-postgresql.html'>Emacs and PostgreSQL</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>July, 22 2010</span></div></div><div class='span2'><a class='thumbnail' href='../../blog/2010/07/22-emacs-and-postgresql.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../thumbnails/debian-logo.png' /></a></div><div class='span6'><p>Those are my two all times favorite Open Source Software. Or 
<a href='http://www.gnu.org/philosophy/free-sw.html'>Free Software</a>
in the 
<a href='http://www.gnu.org/'>GNU</a> sense of the world, as both the 
<em>BSD</em> and the 
<em>GPL</em> are labeled free
there. Even if I prefer the 
<a href='http://www.debian.org/social_contract'>The Debian Free Software Guidelines</a> as a global
definition and the 
<a href='http://sam.zoy.org/wtfpl/'>WTFPL</a> license. But that's a digression.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../blog/2010/07/19-background-writers.html'>Background writers</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>July, 19 2010</span></div></div><div class='span2'><a class='thumbnail' href='../../blog/2010/07/19-background-writers.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../thumbnails/postgresql-elephant.small.png' /></a></div><div class='span6'><p>There's currently a thread on 
<a href='http://archives.postgresql.org/pgsql-hackers/'>hackers</a> about 
<a href='http://archives.postgresql.org/pgsql-hackers/2010-07/msg00493.php'>bg worker: overview</a> and a series
of 6 patches. Thanks a lot 
<em><strong>Markus</strong></em>! This is all about generalizing a concept
already in use in the 
<em>autovacuum</em> process, where you have an independent
subsystem that require having an autonomous 
<em>daemon</em> running and able to start
its own 
<em>workers</em>.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../blog/2010/07/13-logs-analysis.html'>Logs analysis</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>July, 13 2010</span></div></div><div class='span2'><a class='thumbnail' href='../../blog/2010/07/13-logs-analysis.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../thumbnails/postgresql-elephant.small.png' /></a></div><div class='span6'><p>Nowadays to analyze logs and provide insights, the more common tool to use
is 
<a href='http://pgfouine.projects.postgresql.org/'>pgfouine</a>, which does an excellent job. But there has been some
improvements in logs capabilities that we're not benefiting from yet, and
I'm thinking about the 
<code>CSV</code> log format.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../blog/2010/07/08-using-indexes-as-column-store.html'>Using indexes as column store?</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>July, 08 2010</span></div></div><div class='span2'><a class='thumbnail' href='../../blog/2010/07/08-using-indexes-as-column-store.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../thumbnails/postgresql-elephant.small.png' /></a></div><div class='span6'><p>There's a big trend nowadays about using column storage as opposed to what
PostgreSQL is doing, which would be row storage. The difference is that if
you have the same column value in a lot of rows, you could get to a point
where you have this value only once in the underlying storage file. That
means high compression. Then you tweak the 
<em>executor</em> to be able to load this
value only once, not once per row, and you win another huge source of data
traffic (often enough, from disk).
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../blog/2010/07/06-mvcc-in-the-cloud.html'>MVCC in the Cloud</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>July, 06 2010</span></div></div><div class='span2'><a class='thumbnail' href='../../blog/2010/07/06-mvcc-in-the-cloud.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../thumbnails/conferences.jpg' /></a></div><div class='span6'><p>At 
<a href='http://char10.org/'>CHAR(10)</a> 
<em><strong>Markus</strong></em> had a talk about
<a href='http://char10.org/talk-schedule-details#talk13'>Using MVCC for Clustered Database Systems</a> and explained how 
<a href='http://postgres-r.org/'>Postgres-R</a> does
it. The scope of his project is to maintain a set of database servers in the
same state, eventually.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../blog/2010/07/05-back-from-char10.html'>Back from CHAR(10)</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>July, 05 2010</span></div></div><div class='span2'><a class='thumbnail' href='../../blog/2010/07/05-back-from-char10.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../thumbnails/conferences.jpg' /></a></div><div class='span6'><p>It surely does not feel like a full month and some more went by since we
were enjoying 
<a href='http://www.pgcon.org/2010/'>PGCon 2010</a>, but in fact it was already the time for
<a href='http://char10.org/talk-schedule'>CHAR(10)</a>. The venue was most excellent, as Oxford is a very beautiful
city. Also, the college was like a city in the city, and having the
accomodation all in there really smoothed it all.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../blog/2010/05/27-back-from-pgcon2010.html'>Back from PgCon2010</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>May, 27 2010</span></div></div><div class='span2'><a class='thumbnail' href='../../blog/2010/05/27-back-from-pgcon2010.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../thumbnails/conferences.jpg' /></a></div><div class='span6'><p>This year's edition has been the 
<a href='http://www.pgcon.org/2010/'>best pgcon</a> ever for me. Granted, it's only
my third time, but still :) As 
<a href='http://blog.endpoint.com/2010/05/pgcon-hall-track.html'>Josh said</a> the 
<em>"Hall Track"</em> in particular was
very good, and the 
<a href='http://wiki.postgresql.org/wiki/PgCon_2010_Developer_Meeting'>Dev Meeting</a> has been very effective!
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../blog/2010/04/27-import-fixed-width-data-with-pgloader.html'>Import fixed width data with pgloader</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>April, 27 2010</span></div></div><div class='span2'><a class='thumbnail' href='../../blog/2010/04/27-import-fixed-width-data-with-pgloader.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../thumbnails/toy-loader.320.jpg' /></a></div><div class='span6'><p>So, following previous blog entries about importing 
<em>fixed width</em> data, from
<a href='http://www.postgresonline.com/journal/index.php?/archives/157-Import-fixed-width-data-into-PostgreSQL-with-just-PSQL.html'>Postgres Online Journal</a> and 
<a href='http://people.planetpostgresql.org/dfetter/index.php?/archives/58-psql,-Paste,-Perl-Pefficiency!.html'>David (perl) Fetter</a>, I couldn't resist following
the meme and showing how to achieve the same thing with 
<a href='http://pgloader.projects.postgresql.org/#toc9'>pgloader</a>.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../blog/2010/04/06-pgloader-activity-report.html'>pgloader activity report</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>April, 06 2010</span></div></div><div class='span2'><a class='thumbnail' href='../../blog/2010/04/06-pgloader-activity-report.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../thumbnails/toy-loader.320.jpg' /></a></div><div class='span6'><p>Yes. This 
<a href='http://pgloader.projects.postgresql.org/'>pgloader</a> project is still maintained and somewhat
active. Development happens when I receive a complaint, either about a bug
in existing code or a feature in yet-to-write code. If you have a bug to
report, just send me an email!
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../blog/2010/03/17-finding-orphaned-sequences.html'>Finding orphaned sequences</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>March, 17 2010</span></div></div><div class='span2'><a class='thumbnail' href='../../blog/2010/03/17-finding-orphaned-sequences.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../thumbnails/nbt.2022-F1.640.jpg' /></a></div><div class='span6'><p>This time we're having a database where 
<em>sequences</em> were used, but not
systematically as a 
<em>default value</em> of a given column. It's mainly an historic
bad idea, but you know the usual excuse with bad ideas and bad code: the
first 6 months it's experimental, after that it's historic.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../blog/2010/03/04-emacs-muse-hacking.html'>Emacs Muse hacking</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>March, 04 2010</span></div></div><div class='span2'><a class='thumbnail' href='../../blog/2010/03/04-emacs-muse-hacking.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../thumbnails/emacs-logo.png' /></a></div><div class='span6'><p>Now you know what piece of software is used to publish this blog. I really
like it, the major mode makes it a great experience to be using this tool,
and the fact that you produce the 
<code>HTML</code> and 
<code>rsync</code> it all from within Emacs
(
<code>C-c C-p</code> then 
<code>C-c C-r</code> with some easy 
<a href='http://git.tapoueh.org/?p=tapoueh.org.git;a=blob;f=dim-muse.el;hb=HEAD'>elisp code</a>) is a big advantage as far
as I'm concerned. No need to resort to 
<code>shell</code> and 
<code>Makefile</code>.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../blog/2010/02/23-getting-out-of-sql_ascii-part-2.html'>Getting out of SQL_ASCII, part 2</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>February, 23 2010</span></div></div><div class='span2'><a class='thumbnail' href='../../blog/2010/02/23-getting-out-of-sql_ascii-part-2.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../thumbnails/postgresql-elephant.small.png' /></a></div><div class='span6'><p>So, if you followed the previous blog entry, now you have a new database
containing all the 
<em>static</em> tables encoded in 
<code>UTF-8</code> rather than
<code>SQL_ASCII</code>. Because if it was not yet the case, you now severely distrust
this non-encoding.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../blog/2010/02/18-getting-out-of-sql_ascii-part-1.html'>Getting out of SQL_ASCII, part 1</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>February, 18 2010</span></div></div><div class='span2'><a class='thumbnail' href='../../blog/2010/02/18-getting-out-of-sql_ascii-part-1.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../thumbnails/postgresql-elephant.small.png' /></a></div><div class='span6'><p>It happens that you have to manage databases 
<em>designed</em> by your predecessor,
and it even happens that the team used to not have a 
<em>DBA</em>. Those 
<em>histerical
raisins</em> can lead to having a 
<code>SQL_ASCII</code> database. The horror!
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='../../blog/2010/02/16-resetting-sequences-all-of-them-please.html'>Resetting sequences. All of them, please!</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>February, 16 2010</span></div></div><div class='span2'><a class='thumbnail' href='../../blog/2010/02/16-resetting-sequences-all-of-them-please.html'><img class='img-polaroid' style='width: 160px; height: 120px;' src='../../thumbnails/library-card-catalogs.small.jpg' /></a></div><div class='span6'><p>So, after restoring a production dump with intermediate filtering, none of
our sequences were set to the right value. I could have tried to review the
process of filtering the dump here, but it's a 
<em>one-shot</em> action and you know
what that sometimes mean. With some pressure you don't script enough of it
and you just crawl more and more.
</p></div></div></div>  </div>
  </div>
  </div>
  <div id="push"></div>
  </div>

<footer>
  <p>
    <small>Unless otherwise specified, the contents of
    <a href=../../index.html>this website</a> are Copyright
    &#169;&#160; 2008-2013 <a href=/about>Dimitri Fontaine</a>, and are
    licensed for use under
    <a href=http://creativecommons.org/licenses/by-sa/3.0/
    rel=license><abbr title="Creative
    Commons">CC</abbr>&#160;<abbr title=Attribution>BY</abbr>-<abbr title=Share-Alike>SA</abbr>&#160;3.0</a>.</small>
  </p> 
</footer> 

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-47059482-1', 'tapoueh.org');
  ga('send', 'pageview');

</script>

</body>
</html>
