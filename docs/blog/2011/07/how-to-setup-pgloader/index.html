

  
    
  


  




  


  

<!DOCTYPE html>
<html lang="en-us">
  <head>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Hugo 0.31.1">
    <meta name="theme" content="Tranquilpeak 0.3.1-BETA">
    <title>How to Setup pgloader</title>
    <meta name="author" content="Dimitri Fontaine">
    <meta name="keywords" content="">

    <link rel="icon" href="/favicon.ico">
    

    
    <meta name="description" content="In a previous article we
detailed
how to use pgloader,
let&rsquo;s now see how to write the pgloader.conf that
instructs pgloader about what to
do.

">
    <meta property="og:description" content="In a previous article we
detailed
how to use pgloader,
let&rsquo;s now see how to write the pgloader.conf that
instructs pgloader about what to
do.

">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="How to Setup pgloader">
    <meta property="og:url" content="/blog/2011/07/how-to-setup-pgloader/">
    <meta property="og:site_name" content="Dimitri Fontaine, PostgreSQL Expert">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="How to Setup pgloader">
    <meta name="twitter:description" content="In a previous article we
detailed
how to use pgloader,
let&rsquo;s now see how to write the pgloader.conf that
instructs pgloader about what to
do.

">
    
      <meta name="twitter:creator" content="@tapoueh">
    
    

    
    

    
      <meta property="og:image" content="//www.gravatar.com/avatar/7b615d104c506aa0a49e17151fa94d9f?s=640">
    

    
      <meta property="og:image" content="https://tapoueh.org/img/old/toy-loader.320.jpg">
    
    
      <meta property="og:image" content="https://tapoueh.org/img/old/toy-loader.320.jpg">
    
    

    

    
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/jquery.fancybox.css" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/helpers/jquery.fancybox-thumbs.min.css" />
    
    
    <link rel="stylesheet" href="/css/style-jsjn0006wyhpyzivf6yceb31gvpjatbcs3qzjvlumobfnugccvobqwxnnaj8.min.css" />
    
    
      <link rel="stylesheet" href="https://tapoueh.org/css/dim.css">
    
      <link rel="stylesheet" href="https://tapoueh.org/css/nav.css">
    

    
      
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-47059482-1', 'auto');
ga('send', 'pageview');
</script>

    
    
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="5">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="navbar-collapse collapse header-title" id="navigation">
    <ul class="nav navbar-nav navbar-right">
      
      <li class="dropdown">
        
        <a href="/">blog</a>
        
      </li>
      
      <li class="dropdown">
        
        <a href="/conf/">talks</a>
        
      </li>
      
      <li class="dropdown">
        
        <a href="http://pgloader.io/">pgloader</a>
        
      </li>
      
      <li class="dropdown">
        
        <a href="http://masteringpostgresql.com/">Mastering PostgreSQL</a>
        
      </li>
      
    </ul>
  </div>

  
    
      <a class="header-right-icon "
         href="http://masteringpostgresql.com" target="_blank">
    
    
      <i class="fa fa-lg fa-book"></i>
    
    
    </a>
  
</header>

      <nav id="sidebar" data-behavior="5">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="/#about">
          <img class="sidebar-profile-picture" src="//www.gravatar.com/avatar/7b615d104c506aa0a49e17151fa94d9f?s=110" alt="" />
        </a>
        <h4 class="sidebar-profile-name">Dimitri Fontaine</h4>
        
          <h5 class="sidebar-profile-bio">PostgreSQL Major Contributor</h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/">
    
      <i class="sidebar-button-icon fa fa-lg fa-pagelines"></i>
      
      <span class="sidebar-button-desc">Blog</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/about/">
    
      <i class="sidebar-button-icon fa fa-lg fa-beer"></i>
      
      <span class="sidebar-button-desc">About</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/categories/yesql/">
    
      <i class="sidebar-button-icon fa fa-lg fa-database"></i>
      
      <span class="sidebar-button-desc">YeSQL</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="http://masteringpostgresql.com" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-book"></i>
      
      <span class="sidebar-button-desc">Mastering PostgreSQL</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/dimitri" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-github"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://twitter.com/tapoueh" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-twitter"></i>
      
      <span class="sidebar-button-desc">Twitter</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/categories">
    
      <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
      
      <span class="sidebar-button-desc">Categories</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/index.xml">
    
      <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>


    </ul>
  </div>
</nav>

      
  <div class="post-header-cover
              text-left
              post-header-cover--partial"
       style="background-image:url('/img/old/toy-loader.320.jpg')"
       data-behavior="5">
    
  </div>


      <div id="main" data-behavior="5"
        class="hasCover
               hasCoverMetaOut
               ">
        <article class="post" itemscope itemType="http://schema.org/BlogPosting">
          
          
            <div class="post-header main-content-wrap text-left">
  
    <h1 class="post-title" itemprop="headline">
      How to Setup pgloader
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="2011-07-29T15:00:00&#43;02:00">
        
  
  
  
  
    Friday 29 Jul 2011
  

      </time>
    
    
  
  
    <span></span>
    
      <a class="category-link" href="/categories/projects">Projects</a>, 
    
      <a class="category-link" href="/categories/pgloader">pgloader</a>
    
  

  </div>

</div>
          
          <div class="post-content markdown" itemprop="articleBody">
            <div class="main-content-wrap">
              <p>In a previous article we
detailed
<a href="http://tapoueh.org/blog/2011/07/22-how-to-use-pgloader.html">how to use pgloader</a>,
let&rsquo;s now see how to write the <code>pgloader.conf</code> that
instructs <a href="http://pgloader.io">pgloader</a> about what to
do.</p>

<p></p>

<div class="alert danger ">
  <p><p>This article is about versions 2.x of pgloader, which are not supported
anymore. Consider using <a href="http://pgloader.io">pgloader</a> version 3.x instead.
Also the following examples are still available in the 3.x series and you
can see the <em>command files</em> at the GitHub repository for pgloader:</p>

<p><a href="https://github.com/dimitri/pgloader/blob/master/test/">https://github.com/dimitri/pgloader/blob/master/test/</a>.</p>
</p>
</div>

<h1 id="table-of-contents"></h1><nav id="TableOfContents">
<ul>
<li><a href="#global-section">global section</a></li>
<li><a href="#files-section">files section</a></li>
<li><a href="#data-file-format">data file format</a></li>
</ul>
</nav>

<p>This file is expected in the <code>INI</code> format, with a <em>global</em> section then one
section per file you want to import. The <em>global</em> section defines some
default options and how to connect to
the <a href="http://tapoueh.org/pgsql/index.html">PostgreSQL</a> server.</p>

<p>The configuration setup is fully documented on the
<a href="http://pgloader.projects.postgresql.org/">pgloader man page</a> that
you can even easily find online.  As all
<em>unix</em> style man pages, though, it&rsquo;s
more a complete reference than introductory material.  Let&rsquo;s review.</p>

<h1 id="global-section">global section</h1>

<p>Here&rsquo;s the <em>global</em> section of
the
<a href="https://github.com/dimitri/pgloader/blob/master/examples/pgloader.conf">examples/pgloader.conf</a> file
of the source files. Well, some options are <em>debugger</em> only options, really,
so I changed their value so that what you see here is a better starting
point.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ini" data-lang="ini"><span style="color:#00a">[pgsql]</span>
<span style="color:#1e90ff">base</span> = <span style="color:#a50">pgloader</span>

<span style="color:#1e90ff">log_file</span>            = <span style="color:#a50">/tmp/pgloader.log</span>
<span style="color:#1e90ff">log_min_messages</span>    = <span style="color:#a50">INFO</span>
<span style="color:#1e90ff">client_min_messages</span> = <span style="color:#a50">WARNING</span>

<span style="color:#1e90ff">lc_messages</span>         = <span style="color:#a50">C</span>
<span style="color:#1e90ff">pg_option_client_encoding</span> = <span style="color:#a50">&#39;utf-8&#39;</span>
<span style="color:#1e90ff">pg_option_standard_conforming_strings</span> = <span style="color:#a50">on</span>
<span style="color:#1e90ff">pg_option_work_mem</span> = <span style="color:#a50">128MB</span>

<span style="color:#1e90ff">copy_every</span>      = <span style="color:#a50">15000</span>

<span style="color:#1e90ff">null</span>         = <span style="color:#a50">&#34;&#34;</span>
<span style="color:#1e90ff">empty_string</span> = <span style="color:#a50">&#34;\ &#34;</span>

<span style="color:#1e90ff">max_parallel_sections</span> = <span style="color:#a50">4</span></code></pre></div>
<p>You don&rsquo;t see all the connection setup, here <code>base</code> was enough. You might
need to setup <code>host</code>, <code>port</code> and <code>user</code>, and maybe even <code>pass</code>, too, to be
able to connect to the PostgreSQL server.</p>

<p>The logging options allows you to set a file where to log all <code>pgloader</code>
messages, that are categorized as either <code>DEBUG</code>, <code>INFO</code>, <code>WARNING</code>, <code>ERROR</code>
or <code>CRITICAL</code>. The options <code>log_min_messages</code> and <code>client_min_messages</code> are
another good idea stolen from <a href="http://www.postgresql.org/">PostgreSQL</a> and
allow you to setup the level of chatter you want to see on the interactive
console (standard output and standard error streams) and on the log file.</p>

<p>Please note that the <code>DEBUG</code> level will produce more that 3 times as many
data as the data file you&rsquo;re importing. If you&rsquo;re not a <code>pgloader</code>
contributor or helping them, well, <em>debug</em> it, you want to avoid setting the
log chatter to this value.</p>

<p>The <code>client_encoding</code> will
be <a href="http://www.postgresql.org/docs/current/static/sql-set.html">SET</a>
by <a href="http://tapoueh.org/pgsql/pgloader.html">pgloader</a> on the PostgreSQL
connection it establish. You can now even set any parameter you want by
using the <code>pg_option_parameter_name</code> magic settings. Note that the command
line option <code>--pg-options</code> (or <code>-o</code> for brevity) allows you to override
that.</p>

<p>Then, the <code>copy_every</code> parameter is set to <code>5</code> in the examples, because the
test files are containing less than 10 lines and we want to test several
<em>batches</em> of commits when using them. So for your real loading, stick to
default parameters ( <code>10 000</code> lines per <code>COPY</code> command), or more. You can
play with this parameter, depending on the network (or local access) and
disk system you&rsquo;re using you might see improvements by reducing it or
enlarging it. There&rsquo;s no so much theory of operation as empirical testing
and setting here. For a one-off operation, just remove the lines from the
configuration.</p>

<p>The parameters <code>null</code> and <code>empty_string</code> are related to interpreting the
data in the text or <code>csv</code> files you have, and the documentation is quite
clear about them. Note that you have global setting and per-section setting
too.</p>

<p>The last parameter of this example, <code>max_parallel_sections</code>, is detailed
later in the article.</p>

<h1 id="files-section">files section</h1>

<p>After the <em>global</em> section come as many sections as you have file to load.
Plus the <em>template</em> sections, that are only there so that you can share a
bunch of parameters in more than one section. Picture a series of data file
all of the same format, the only thing that will change is the <code>filename</code>.
Use a template section in this case!</p>

<p>Let&rsquo;s see an example:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ini" data-lang="ini"><span style="color:#00a">[simple_tmpl]</span>
<span style="color:#1e90ff">template</span>     = <span style="color:#a50">True</span>
<span style="color:#1e90ff">format</span>       = <span style="color:#a50">text</span>
<span style="color:#1e90ff">datestyle</span>    = <span style="color:#a50">dmy</span>
<span style="color:#1e90ff">field_sep</span>    = <span style="color:#a50">|</span>
<span style="color:#1e90ff">trailing_sep</span> = <span style="color:#a50">True</span>

<span style="color:#00a">[simple]</span>
<span style="color:#1e90ff">use_template</span>    = <span style="color:#a50">simple_tmpl</span>
<span style="color:#1e90ff">table</span>           = <span style="color:#a50">simple</span>
<span style="color:#1e90ff">filename</span>        = <span style="color:#a50">simple/simple.data</span>
<span style="color:#1e90ff">columns</span>         = <span style="color:#a50">a:1, b:3, c:2</span>
<span style="color:#1e90ff">skip_head_lines</span> = <span style="color:#a50">2</span>

<span style="color:#aaa;font-style:italic"># those reject settings are defaults one</span>
<span style="color:#1e90ff">reject_log</span>   = <span style="color:#a50">/tmp/simple.rej.log</span>
<span style="color:#1e90ff">reject_data</span>  = <span style="color:#a50">/tmp/simple.rej</span>

<span style="color:#00a">[partial]</span>
<span style="color:#1e90ff">table</span>        = <span style="color:#a50">partial</span>
<span style="color:#1e90ff">format</span>       = <span style="color:#a50">text</span>
<span style="color:#1e90ff">filename</span>     = <span style="color:#a50">partial/partial.data</span>
<span style="color:#1e90ff">field_sep</span>    = <span style="color:#a50">%</span>
<span style="color:#1e90ff">columns</span>      = <span style="color:#a50">*</span>
<span style="color:#1e90ff">only_cols</span>    = <span style="color:#a50">1-3, 5</span></code></pre></div>
<p>That&rsquo;s 2 of the examples from
the
<a href="https://github.com/dimitri/pgloader/blob/master/examples/pgloader.conf">examples/pgloader.conf</a> file,
in 3 sections so that we see one template example. Of course, having a
single section using the template, it&rsquo;s just here for the example.</p>

<h1 id="data-file-format">data file format</h1>

<p>The most important setting that you have to care about is the file format.
Your choice here is either <code>text</code>, <code>csv</code> or <code>fixed</code>. Mostly, what we are
given nowadays is <code>csv</code>. You might remember having read that the nice thing
about standards is that there&rsquo;s so many to choose from&hellip; well, the <code>csv</code>
land is one where it&rsquo;s pretty hard to find different producers that
understand it the same way.</p>

<p>So when you fail to have pgloader load your <em>mostly csv</em> files with a <code>csv</code>
setup, it&rsquo;s time to consider using <code>text</code> instead. The <code>text</code> file format
accept a lot of tunables to adapt to crazy situations, but is all <code>python</code>
code when the <a href="http://docs.python.org/library/csv.html">python csv module</a>
is a C-coded module, more efficient.</p>

<p>If you&rsquo;re wondering what kind of format we&rsquo;re talking about here, here&rsquo;s
the
<a href="https://github.com/dimitri/pgloader/blob/master/examples/cluttered/cluttered.data">cluttered pgloader example</a> for
your reading pleasure, using <code>^</code> (carret) as the field separator:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-raw" data-lang="raw">1^some multi\
line text with\
newline escaping^and some other data following^
2^and another line^clean^
3^and\
a last multiline\
escaped line
with a missing\
escaping^just to test^
4^\ ^empty value^
5^^null value^
6^multi line\
escaped value\
\
with empty line\
embeded^last line^</code></pre></div>
<p>And here&rsquo;s what we get by loading that:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-psql" data-lang="psql">pgloader/examples$ pgloader -c pgloader.conf -s cluttered
Table name        |    duration |    size |  copy rows |     errors 
====================================================================
cluttered         |      0.193s |       - |          6 |          0

pgloader/examples$ psql pgloader -c &#34;table cluttered;&#34;
 a |               b               |        c         
---+-------------------------------+------------------
 1 | and some other data following | some multi
                                   : line text with
                                   : newline escaping
 2 | clean                         | and another line
 3 | just to test                  | and
                                   : a last multiline
                                   : escaped line
                                   : with a missing
                                   : escaping
 4 | empty value                   | 
 5 | null value                    | 
 6 | last line                     | multi line
                                   : escaped value
                                   : 
                                   : with empty line
                                   : embeded
(6 rows)</code></pre></div>
<p>So when you have such kind of data, well, it might be that <code>pgloader</code> is
still able to help you!</p>

<p>Please refer to
the <a href="http://pgloader.projects.postgresql.org/">pgloader man page</a> to know
about each and every parameter that you can define and the values accepted,
etc. And the <em>fixed</em> data format is to be used when you&rsquo;re not given a field
separator but field positions in the file. Yes, we still encounter those
from time to time. Who needs variable size storage, after all?</p>
              
            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small"></span><br/>
                    
  <a class="tag tag--primary tag--small" href="/tags/postgresql/">PostgreSQL</a>

  <a class="tag tag--primary tag--small" href="/tags/pgloader/">pgloader</a>

                  </div>
                
              
            
            <div class="post-actions-wrap">
  <div class="post-footer-tags">
    
    
    <script async id="_ck_218061" src="https://forms.convertkit.com/218061?v=6"></script>
    
    
  </div>
  <nav>
    <ul class="post-actions post-action-nav">
      
        <li class="post-action">
          
            <a class="post-action-btn btn btn--default tooltip--top" href="/blog/2011/07/configurer-pgloader/" data-tooltip="Configurer pgloader">
          
            <i class="fa fa-angle-left"></i>
            <span class="hide-xs hide-sm text-small icon-ml"></span>
          </a>
        </li>
        <li class="post-action">
          
            <a class="post-action-btn btn btn--default tooltip--top" href="/blog/2011/07/emacs-ansi-colors/" data-tooltip="Emacs ANSI colors">
          
            <span class="hide-xs hide-sm text-small icon-mr"></span>
            <i class="fa fa-angle-right"></i>
          </a>
        </li>
      
    </ul>
  </nav>
  <ul class="post-actions post-action-share">
    
      <li class="post-action hide-lg hide-md hide-sm">
        <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
          <i class="fa fa-share-alt"></i>
        </a>
      </li>
      <li class="post-action hide-xs">
        <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=https%3a%2f%2ftapoueh.org%2fblog%2f2011%2f07%2fhow-to-setup-pgloader%2f">
          <i class="fa fa-google-plus"></i>
        </a>
      </li>
      <li class="post-action hide-xs">
        <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2ftapoueh.org%2fblog%2f2011%2f07%2fhow-to-setup-pgloader%2f">
          <i class="fa fa-facebook-official"></i>
        </a>
      </li>
      <li class="post-action hide-xs">
        <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=How%20to%20Setup%20pgloader with @tapoueh: https%3a%2f%2ftapoueh.org%2fblog%2f2011%2f07%2fhow-to-setup-pgloader%2f">
          <i class="fa fa-twitter"></i>
        </a>
      </li>
    
    
      <li class="post-action">
        <a class="post-action-btn btn btn--default" href="#disqus_thread">
          <i class="fa fa-comment-o"></i>
        </a>
      </li>
    
    <li class="post-action">
      
        <a class="post-action-btn btn btn--default" href="#table-of-contents">
      
        <i class="fa fa-list"></i>
      </a>
    </li>
  </ul>
</div>


            
              
                <div id="disqus_thread">
  <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
              
            
          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2018 Dimitri Fontaine. 
  </span>
</footer>

      </div>
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="5">
        <div class="post-actions-wrap">
  <div class="post-footer-tags">
    
    
    <script async id="_ck_218061" src="https://forms.convertkit.com/218061?v=6"></script>
    
    
  </div>
  <nav>
    <ul class="post-actions post-action-nav">
      
        <li class="post-action">
          
            <a class="post-action-btn btn btn--default tooltip--top" href="/blog/2011/07/configurer-pgloader/" data-tooltip="Configurer pgloader">
          
            <i class="fa fa-angle-left"></i>
            <span class="hide-xs hide-sm text-small icon-ml"></span>
          </a>
        </li>
        <li class="post-action">
          
            <a class="post-action-btn btn btn--default tooltip--top" href="/blog/2011/07/emacs-ansi-colors/" data-tooltip="Emacs ANSI colors">
          
            <span class="hide-xs hide-sm text-small icon-mr"></span>
            <i class="fa fa-angle-right"></i>
          </a>
        </li>
      
    </ul>
  </nav>
  <ul class="post-actions post-action-share">
    
      <li class="post-action hide-lg hide-md hide-sm">
        <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
          <i class="fa fa-share-alt"></i>
        </a>
      </li>
      <li class="post-action hide-xs">
        <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=https%3a%2f%2ftapoueh.org%2fblog%2f2011%2f07%2fhow-to-setup-pgloader%2f">
          <i class="fa fa-google-plus"></i>
        </a>
      </li>
      <li class="post-action hide-xs">
        <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2ftapoueh.org%2fblog%2f2011%2f07%2fhow-to-setup-pgloader%2f">
          <i class="fa fa-facebook-official"></i>
        </a>
      </li>
      <li class="post-action hide-xs">
        <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=How%20to%20Setup%20pgloader with @tapoueh: https%3a%2f%2ftapoueh.org%2fblog%2f2011%2f07%2fhow-to-setup-pgloader%2f">
          <i class="fa fa-twitter"></i>
        </a>
      </li>
    
    
      <li class="post-action">
        <a class="post-action-btn btn btn--default" href="#disqus_thread">
          <i class="fa fa-comment-o"></i>
        </a>
      </li>
    
    <li class="post-action">
      
        <a class="post-action-btn btn btn--default" href="#table-of-contents">
      
        <i class="fa fa-list"></i>
      </a>
    </li>
  </ul>
</div>


      </div>
      <div id="share-options-bar" class="share-options-bar" data-behavior="5">
  <ul class="share-options">
    <li class="share-option">
      <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=https%3a%2f%2ftapoueh.org%2fblog%2f2011%2f07%2fhow-to-setup-pgloader%2f">
        <i class="fa fa-google-plus"></i><span></span>
      </a>
    </li>
    <li class="share-option">
      <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2ftapoueh.org%2fblog%2f2011%2f07%2fhow-to-setup-pgloader%2f">
        <i class="fa fa-facebook-official"></i><span></span>
      </a>
    </li>
    <li class="share-option">
      <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=How%20to%20Setup%20pgloader with @tapoueh: https%3a%2f%2ftapoueh.org%2fblog%2f2011%2f07%2fhow-to-setup-pgloader%2f">
        <i class="fa fa-twitter"></i><span></span>
      </a>
    </li>
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>

    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-remove"></i>
    </div>
    
      <img id="about-card-picture" src="//www.gravatar.com/avatar/7b615d104c506aa0a49e17151fa94d9f?s=110" alt="" />
    
    <h4 id="about-card-name">Dimitri Fontaine</h4>
    
      <div id="about-card-bio">PostgreSQL Major Contributor</div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        Open Source Software Engineer
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker"></i>
        <br/>
        France
      </div>
    
  </div>
</div>

    <div id="algolia-search-modal" class="modal-container">
  <div class="modal">
    <div class="modal-header">
      <span class="close-button"><i class="fa fa-close"></i></span>
      <a href="https://algolia.com" target="_blank" rel="noopener" class="searchby-algolia text-color-light link-unstyled">
        <span class="searchby-algolia-text text-color-light text-small">by</span>
        <img class="searchby-algolia-logo" src="https://www.algolia.com/static_assets/images/press/downloads/algolia-light.svg">
      </a>
      <i class="search-icon fa fa-search"></i>
      <form id="algolia-search-form">
        <input type="text" id="algolia-search-input" name="search"
          class="form-control input--large search-input" placeholder="" />
      </form>
    </div>
    <div class="modal-body">
      <div class="no-result text-color-light text-center"></div>
      <div class="results">
        
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://tapoueh.org/blog/2018/03/database-modelization-anti-patterns/">
                <h3 class="media-heading">Database Modelization Anti-Patterns</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Mar 3, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><p>Next week we see two awesome PostgreSQL conferences in Europe, back to back,
with a day in between just so that people may attend both! In chronological
order we have first <a href="https://2018.nordicpgday.org">Nordic pgDay</a> in Oslo
where I will have the pleasure to talk about <a href="https://www.postgresql.eu/events/nordicpgday2018/schedule/session/1896-data-modeling-normalization-and-denormalization/">Data Modeling, Normalization
and
Denormalization</a>.
Then we have <a href="https://2018.pgday.paris">pgday.paris</a> with an awesome
schedule and a strong focus on the needs of application developers!</p>

<p></p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://tapoueh.org/blog/2018/02/sustainable-open-source-development/">
                <h3 class="media-heading">Sustainable Open Source Development</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Feb 2, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><p>Current trend in software deployments is to rely on open source software for
entire production stacks. You can find open source software in the core
technical stacks of every startup out there, I&rsquo;m told. If you&rsquo;re using Cloud
based offerings, most of Cloud providers are running <a href="https://www.gnu.org/philosophy/floss-and-foss.en.html">Free/Libre Open Source
Software</a> as their
foundation.</p>

<p>This article is a deep dive into the economic models behind successful open
source projects and communities, and how as a professional, enterprise grade
user, you depend on the long-term sustainability of all the open source
projects you&rsquo;re using. And because you depend on the projects you&rsquo;re using
to be successful, how to contribute and guarantee their success.</p>

<p></p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://tapoueh.org/blog/2018/02/find-the-number-of-the-longest-continuously-rising-days-for-a-stock/">
                <h3 class="media-heading">Find the number of the longest continuously rising days for a stock</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Feb 2, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><p>Today I want to react to an article that claims that <a href="https://www.datasciencecentral.com/profiles/blogs/relational-algebra-is-the-root-of-sql-problems">Relational Algebra Is
the Root of SQL
Problems</a>
in which the author hand-waves the following position:</p>

<blockquote>
<p>SQL becomes more a hindrance to data manipulation than an efficient tool.
SQL’s greatest problem isn’t in the implementation level, but at its
theory foundation. The problem can’t be solved by application
optimization. Relational algebra isn’t sophisticated enough for handling
the complicated data manipulation scenarios.</p>
</blockquote>

<p>Then they go on to several <em>arguments from authority</em> to “prove” their
point. My reading of the article is that SQL is very hard when you didn&rsquo;t
care to learn it, as most technologies are.</p>

<p>In this article, we&rsquo;re going to look at the <em>simple examples</em> provided where
apparently SQL makes it so much harder to find a solution compared to
writing some Java or C++ code. Contrary to the original article, we go as
far as to actually writing both the SQL solution and a complete Python
solution, so that we can compare.</p>

<p></p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://tapoueh.org/blog/2018/01/exporting-a-hierarchy-in-json-with-recursive-queries/">
                <h3 class="media-heading">Exporting a Hierarchy in JSON: with recursive queries</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Jan 1, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><p>In another article here, entitled <a href="/blog/2017/09/on-json-and-sql/">on JSON and
SQL</a>, we saw in great details how to import
a data set only available as a giant JSON file. Then we normalized the data
set, so as to be able to write SQL and process our data. This approach is
sometimes very useful and was a good way to learn some of the JSON functions
provided by PostgreSQL.</p>

<p>In this article, we&rsquo;re going to use SQL to export the data from our
relational model into a JSON document. The trick that makes it complex in
this example is that we have a recursive data model, with a notion of a
<em>parent</em> row that exists in the same table as the current one. That&rsquo;s a nice
excuse to learn more about the SQL construct <a href="https://www.postgresql.org/docs/current/static/queries-with.html">WITH
RECURSIVE</a>.</p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://tapoueh.org/blog/2018/01/a-year-in-review-most-read-articles-in-2017/">
                <h3 class="media-heading">A Year in Review: Most Read Articles in 2017</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Jan 1, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><p>It seems to be usual nowadays to review the previous year, and readers
apparently like Top-N Lists — <em>that&rsquo;s you now, so let&rsquo;s hope that my
understanding works with you too</em>.</p>

<p>Of course 2018 will see its own amount of new and original content added to
this blog, with a continuous focus towards how to make the best out of the
SQL powerful programming language, and its advanced concurrency semantics.</p>

<p></p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://tapoueh.org/blog/2018/01/working-at-citus-data/">
                <h3 class="media-heading">Working at Citus Data</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Jan 1, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><p>You might have read it in the news already in Citus&rsquo; blog post by <a href="https://www.citusdata.com/about/team/">Sumedh
Pathak</a>: <a href="https://www.citusdata.com/blog/2018/01/12/dimitri-fontaine-postgresql-contributor-joins-citus-data/">PostgreSQL Expert Dimitri
Fontaine joins Citus
Data</a>.
I am very happy to join a talented team here at Citus, and excited to work
on an Open Source solution for distributed SQL on-top of PostgreSQL! In this
article I&rsquo;m going to cover my first technical contributions to Citus
database, as it happens that a few patches of mine made it to the main
source tree already.</p>

<p><strong>TL;DR</strong> It&rsquo;s good to be working on PostgreSQL related source code again,
and to have the opportunity to solve PostgreSQL related problems at scale!</p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://tapoueh.org/blog/2018/01/migrating-to-postgresql-the-white-paper/">
                <h3 class="media-heading">Migrating to PostgreSQL, the White Paper</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Jan 1, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><p>After having been involved in many migration projects over the last 10
years, I decided to publish the following <a href="https://pgloader.io/white-paper">White
Paper</a> in order to share my learnings.</p>

<p>The paper is titled <a href="https://pgloader.io/white-paper">Migrating to PostgreSQL, Tools and
Methodology</a> and details the <a href="https://pgloader.io/blog/continuous-migration/">Continuous
Migration</a> approach. It
describes how to migrate from another relational database server technology
to PostgreSQL. The reasons to do so are many, and first among them is often
the licensing model.</p>

<p></p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://tapoueh.org/blog/2017/12/submit-a-talk-to-pgday-paris-today/">
                <h3 class="media-heading">Submit a Talk to pgDay Paris Today!</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Dec 12, 2017
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><p><a href="https://2018.pgday.paris">pgDay Paris</a> 4th edition happens March 15, 2018!
And the <a href="https://2018.pgday.paris/callforpapers/">Call for Papers</a> is still
open, as it closes with the year: <em>the submission deadline is December 31st,
2017</em>.</p>

<p>As I&rsquo;ve been organizing the first edition of <em>pgDay Paris</em> back in 2015,
this very conference is special to me! It&rsquo;s been an amazing experience
launching a new <a href="https://www.postgresql.org">PostgreSQL</a> conference…</p>

<p>Hats off to <a href="https://www.hagander.net">Magnus</a> without whom the first
edition would never have happened, and to
<a href="https://twitter.com/pg_xocolatl">Vik</a> of course, who took over the
organisation of the conference!</p>

<p></p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://tapoueh.org/blog/2017/12/setting-up-psql-the-postgresql-cli/">
                <h3 class="media-heading">Setting up psql, the PostgreSQL CLI</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Dec 12, 2017
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><p>PostgreSQL ships with an interactive console with the command line tool
named <a href="https://www.postgresql.org/docs/current/static/app-psql.html">psql</a>.
It can be used both for scripting and interactive usage and is moreover
quite a powerful tool. Interactive features includes <em>autocompletion</em>,
<em>readline</em> support (history searches, modern keyboard movements, etc), input
and output redirection, formatted output, and more.</p>

<p></p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://tapoueh.org/blog/2017/12/mastering-postgresql-a-readers-interview/">
                <h3 class="media-heading">Mastering PostgreSQL: a reader&#39;s interview</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Dec 12, 2017
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><p><strong><em>Florent Fourcot</em></strong> has read <a href="http://masteringpostgresql.com">Mastering PostgreSQL in Application
Development</a> and has seen tremendous
inprovements in his production setup from reading the first chapters and
applying the book advices to his use case.</p>

<p>Here&rsquo;s an interview run with Florent where he explains the context in which
such improvements has been made!</p>

<p></p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
      </div>
    </div>
    <div class="modal-footer">
      <p class="results-count text-medium"
         data-message-zero=""
         data-message-one=""
         data-message-other="">
         259 posts found
      </p>
    </div>
  </div>
</div>
    
  
    
    <div id="cover" style="background-image:url('https://tapoueh.org/images/mayan-calendar.jpg');"></div>
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.7/js/jquery.fancybox.min.js" integrity="sha256-GEAnjcTqVP+vBp3SSc8bEDQqvWAZMiHyUSIorrWwH50=" crossorigin="anonymous"></script>


<script src="/js/script-qi9wbxp2ya2j6p7wx1i6tgavftewndznf4v0hy2gvivk1rxgc3lm7njqb6bz.min.js"></script>



<script>
$(document).ready(function() {
  hljs.configure({ classPrefix: '', useBR: false });
  $('pre.code-highlight > code, pre > code').each(function(i, block) {
    if (!$(this).hasClass('codeblock')) {
      $(this).addClass('codeblock');
    }
    hljs.highlightBlock(block);
  });
});
</script>


  
    
      <script>
        var disqus_config = function () {
          this.page.url = 'https:\/\/tapoueh.org\/blog\/2011\/07\/how-to-setup-pgloader\/';
          
            this.page.identifier = '\/blog\/2011\/07\/how-to-setup-pgloader\/'
          
        };
        (function() {
          
          
          if (window.location.hostname == "localhost") {
            return;
          }
          var d = document, s = d.createElement('script');
          var disqus_shortname = 'tapoueh';
          s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
        })();
      </script>
    
  



    
  </body>
</html>

