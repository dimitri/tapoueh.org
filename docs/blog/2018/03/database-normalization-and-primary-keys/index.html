

  
    
  


  




  


  

<!DOCTYPE html>
<html lang="en-us">
  <head>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Hugo 0.79.0">
    <meta name="theme" content="Tranquilpeak 0.3.1-BETA">
    <title>Database Normalization and Primary Keys</title>
    <meta name="author" content="Dimitri Fontaine">
    <meta name="keywords" content="">

    <link rel="icon" href="/favicon.ico">
    

    
    <meta name="description" content="In our previous article we saw three classic Database Modelization
Anti-Patterns. The
article also contains a reference to a Primary Key section of my book The
Art of PostgresQL, so it&rsquo;s only fair that I
would now publish said Primary Key section!

So in this article, we dive into Primary Keys as being a cornerstone of
database normalization. It&rsquo;s so important to get Primary Keys right that you
would think everybody knows how to do it, and yet, most of the primary key
constraints I&rsquo;ve seen used in database design are actually not primary keys
at all.">
    <meta property="og:description" content="In our previous article we saw three classic Database Modelization
Anti-Patterns. The
article also contains a reference to a Primary Key section of my book The
Art of PostgresQL, so it&rsquo;s only fair that I
would now publish said Primary Key section!

So in this article, we dive into Primary Keys as being a cornerstone of
database normalization. It&rsquo;s so important to get Primary Keys right that you
would think everybody knows how to do it, and yet, most of the primary key
constraints I&rsquo;ve seen used in database design are actually not primary keys
at all.">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="Database Normalization and Primary Keys">
    <meta property="og:url" content="https://tapoueh.org/blog/2018/03/database-normalization-and-primary-keys/">
    <meta property="og:site_name" content="The Art of PostgreSQL">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Database Normalization and Primary Keys">
    <meta name="twitter:description" content="In our previous article we saw three classic Database Modelization
Anti-Patterns. The
article also contains a reference to a Primary Key section of my book The
Art of PostgresQL, so it&rsquo;s only fair that I
would now publish said Primary Key section!

So in this article, we dive into Primary Keys as being a cornerstone of
database normalization. It&rsquo;s so important to get Primary Keys right that you
would think everybody knows how to do it, and yet, most of the primary key
constraints I&rsquo;ve seen used in database design are actually not primary keys
at all.">
    
      <meta name="twitter:creator" content="@tapoueh">
    
    

    
    

    
      <meta property="og:image" content="//www.gravatar.com/avatar/7b615d104c506aa0a49e17151fa94d9f?s=640">
    

    
      <meta property="og:image" content="https://tapoueh.org/img/normalization-logo.png">
    
    
      <meta property="og:image" content="https://tapoueh.org/img/database-background-11458.jpg">
    
    

    

    
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/jquery.fancybox.css" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/helpers/jquery.fancybox-thumbs.min.css" />
    
    
    <link rel="stylesheet" href="/css/style-jsjn0006wyhpyzivf6yceb31gvpjatbcs3qzjvlumobfnugccvobqwxnnaj8.min.css" />
    
    
      <link rel="stylesheet" href="https://tapoueh.org/css/dim.css">
    
      <link rel="stylesheet" href="https://tapoueh.org/css/nav.css">
    

    
      
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-47059482-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

    
    
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="5">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="navbar-collapse collapse header-title" id="navigation">
    <ul class="nav navbar-nav navbar-right">
      
      <li class="dropdown">
        
        <a style="color: black;" href="/" alt="blog"><i class="sidebar-button-icon fa fa-lg fa-home"></i></a>
        
      </li>
      
      <li class="dropdown">
        
        <a style="color: black;" href="/conf/" alt="talks"><i class="sidebar-button-icon fa fa-lg fa-microphone"></i></a>
        
      </li>
      
      <li class="dropdown">
        
        <a style="color: black;" href="https://twitter.com/tapoueh" alt="Twitter"><i class="sidebar-button-icon fa fa-lg fa-twitter"></i></a>
        
      </li>
      
      <li class="dropdown">
        
        <a style="color: black;" href="http://theartofpostgresql.com" alt="The Art Of PostgreSQL"><i class="sidebar-button-icon fa fa-lg fa-book"></i></a>
        
      </li>
      
    </ul>
  </div>

  
    
      <a class="header-right-icon "
         href="https://theartofpostgresql.com/" target="_blank">
    
    
      <i class="fa fa-lg fa-book"></i>
    
    
    </a>
  
</header>

      <nav id="sidebar" data-behavior="5">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="/#about">
          <img class="sidebar-profile-picture" src="//www.gravatar.com/avatar/7b615d104c506aa0a49e17151fa94d9f?s=110" alt="" />
        </a>
        <h4 class="sidebar-profile-name">Dimitri Fontaine</h4>
        
          <h5 class="sidebar-profile-bio">PostgreSQL Major Contributor</h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/">
    
      <i class="sidebar-button-icon fa fa-lg fa-pagelines"></i>
      
      <span class="sidebar-button-desc">Blog</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/about/">
    
      <i class="sidebar-button-icon fa fa-lg fa-beer"></i>
      
      <span class="sidebar-button-desc">About</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/categories/yesql/">
    
      <i class="sidebar-button-icon fa fa-lg fa-database"></i>
      
      <span class="sidebar-button-desc">YeSQL</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://theartofpostgresql.com" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-book"></i>
      
      <span class="sidebar-button-desc">The Art of PostgreSQL</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/dimitri" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-github"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://twitter.com/tapoueh" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-twitter"></i>
      
      <span class="sidebar-button-desc">Twitter</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/categories">
    
      <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
      
      <span class="sidebar-button-desc">Categories</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="/index.xml">
    
      <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>


    </ul>
  </div>
</nav>

      
  <div class="post-header-cover
              text-left
              post-header-cover--partial"
       style="background-image:url('/img/database-background-11458.jpg')"
       data-behavior="5">
    
      <div class="post-header main-content-wrap text-left">
  
    <h1 class="post-title" itemprop="headline">
      Database Normalization and Primary Keys
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="2018-03-09T18:41:33&#43;01:00">
        <span style="float: left; width: 35%">
          <i class="fa fa-calendar"></i> 
  
  
  
  
    Friday 09 Mar 2018
  

        </span>
      </time>
    
    <span style="float: right; width: 65%">
      <i class="fa fa-clock-o"></i> 7 mins read
      
    </span>
    <span style="float: left; width: 35%">
      <i class="fa fa-bookmark"></i> 
  
  
    <span></span>
    
      <a class="category-link" href="/categories/postgresql">PostgreSQL</a>, 
    
      <a class="category-link" href="/categories/yesql">YeSQL</a>
    
  

    </span>
    <div>
      <p>
        
        
        
        
        
        
        <a href="/tags/modelisation/">
          <i class="fa fa-tag"></i> Modelisation
        </a>
        
        
        
        <a href="/tags/primary-keys/">
          <i class="fa fa-tag"></i> Primary Keys
        </a>
        
        
        
        <a href="/tags/surrogate-keys/">
          <i class="fa fa-tag"></i> Surrogate Keys
        </a>
        
        
        
        <a href="/tags/normal-forms/">
          <i class="fa fa-tag"></i> Normal Forms
        </a>
        
        
      </p>
    </div>
  </div>


</div>
    
  </div>


      <div id="main" data-behavior="5"
        class="hasCover
               hasCoverMetaIn
               ">
        <article class="post" itemscope itemType="http://schema.org/BlogPosting">
          
          
          <div class="post-content markdown" itemprop="articleBody">
            <div class="main-content-wrap">
              <p>In our previous article we saw three classic <a href="/blog/2018/03/database-modelization-anti-patterns/">Database Modelization
Anti-Patterns</a>. The
article also contains a reference to a Primary Key section of my book <a href="https://theartofpostgresql.com">The
Art of PostgresQL</a>, so it&rsquo;s only fair that I
would now publish said Primary Key section!</p>

<p>So in this article, we dive into Primary Keys as being a cornerstone of
database normalization. It&rsquo;s so important to get Primary Keys right that you
would think everybody knows how to do it, and yet, most of the primary key
constraints I&rsquo;ve seen used in database design are actually not primary keys
at all.</p>

 




<div class="table-of-contents toc bd-callout">
    
    <h4 class="text-muted">Table of Contents</h4>
    
        
        
            
                
                
                
                    <ul class="toc-h1">
                
                
                
                
                <li>
                  <a href="/blog/2018/03/database-normalization-and-primary-keys/#normal-forms">
                    Normal Forms
                  </a>
                </li>
                
                
                    </ul>
                
            
        
    
        
        
            
                
                
                
                    <ul class="toc-h1">
                
                
                
                
                <li>
                  <a href="/blog/2018/03/database-normalization-and-primary-keys/#primary-keys">
                    Primary Keys
                  </a>
                </li>
                
                
                    </ul>
                
            
        
    
        
        
            
                
                
                
                    <ul class="toc-h1">
                
                
                
                
                <li>
                  <a href="/blog/2018/03/database-normalization-and-primary-keys/#surrogate-keys">
                    Surrogate Keys
                  </a>
                </li>
                
                
                    </ul>
                
            
        
    
        
        
            
                
                
                
                    <ul class="toc-h1">
                
                
                
                
                <li>
                  <a href="/blog/2018/03/database-normalization-and-primary-keys/#conclusion">
                    Conclusion
                  </a>
                </li>
                
                
                    </ul>
                
            
        
    
</div>



<p>Before we can get into the details of Primary Keys themselves, let&rsquo;s do a
quick review of Normal Forms and why they are interesting to us when we
design a database model.</p>

<h2 id="normal-forms">Normal Forms</h2>

<p>There are several levels of normalization and the web site
<a href="http://www.dbnormalization.com/">dbnormalization.com</a> offers a practical
guide to them. In this quick introduction to database normalization, we
include the definition of the normal forms:</p>

<ul>
<li><p>1st Normal Form (<em>1NF</em>)</p>

<p>A table (relation) is in <em>1NF</em> if:</p>

<ol>
<li>There are no duplicated rows in the table.</li>
<li>Each cell is single-valued (no repeating groups or arrays).</li>
<li>Entries in a column (field) are of the same kind.</li>
</ol></li>

<li><p>2nd Normal Form (<em>2NF</em>)</p>

<p>A table is in <em>2NF</em> if it is in <em>1NF</em> and if all non-key attributes are
dependent on all of the key. Since a partial dependency occurs when a
non-key attribute is dependent on only a part of the composite key, the
definition of <em>2NF</em> is sometimes phrased as: “A table is in <em>2NF</em> if it
is in <em>1NF</em> and if it has no partial dependencies.”</p></li>

<li><p>3rd Normal Form (<em>3NF</em>)</p>

<p>A table is in <em>3NF</em> if it is in <em>2NF</em> and if it has no transitive
dependencies.</p></li>

<li><p>Boyce-Codd Normal Form (<em>BCNF</em>)</p>

<p>A table is in <em>BCNF</em> if it is in <em>3NF</em> and if every determinant is a
candidate key.</p></li>

<li><p>4th Normal Form (<em>4NF</em>)</p>

<p>A table is in <em>4NF</em> if it is in <em>BCNF</em> and if it has no multi-valued
dependencies.</p></li>

<li><p>5th Normal Form (<em>5NF</em>)</p>

<p>A table is in <em>5NF</em>, also called “Projection-join Normal Form” (<em>PJNF</em>),
if it is in <em>4NF</em> and if every join dependency in the table is a
consequence of the candidate keys of the table.</p></li>

<li><p>Domain-Key Normal Form (<em>DKNF</em>)</p>

<p>A table is in <em>DKNF</em> if every constraint on the table is a logical
consequence of the definition of keys and domains.</p></li>
</ul>

<p>What all of this say is that if you want to be able to process data in your
database, using the relational model and SQL as your main tooling, then it&rsquo;s
best not to make a total mess of the information and keep it logically
structured.</p>

<p>In practice database models often reach for <em>BCNF</em> or <em>4NF</em>; going all the
way to the <em>DKNF</em> design is only seen in specific cases.</p>

<h2 id="primary-keys">Primary Keys</h2>

<p>Primary keys are a database constraint allowing us to implement the first
and second normal forms. The first rule to follow to reach first normal form
says <em>“There are no duplicated rows in the table”.</em></p>

<p>A primary key ensures two things:</p>

<ul>
<li><p>The attributes that are part of the <em>primary key</em> constraint definition
are not allowed to be <em>null</em>.</p></li>

<li><p>The attributes that are part of the <em>primary key</em> are unique in the
table&rsquo;s content.</p></li>
</ul>

<p>To ensure that there is no duplicated row, we need the two guarantees.
Comparing <em>null</em> values in SQL is a complex matter — read Jeff Davis&rsquo; <a href="http://thoughts.davisjeff.com/2009/08/02/what-is-the-deal-with-nulls/">What
is the deal with
NULLs?</a>
to convince yourself, and rather than argue if the no-duplicate rule applies
to <em>null = null</em> (which is <em>null</em>) or to <em>null is not null</em> (which is
false), a <em>primary key</em> constraint disallow <em>null</em> values entirely.</p>

<h2 id="surrogate-keys">Surrogate Keys</h2>

<p>The reason why we have <em>primary key</em> is to avoid duplicate entries in the
data set. As soon as a <em>primary key</em> is defined on an automatically
generated column, which is arguably not really part of the data set, then we
open the gates for violation of the first normal form.</p>

<p>As an example of that, we&rsquo;re going to model the publication of articles in a
newspaper, where each article belongs to a single category. Here&rsquo;s a first
version of our main article table definition:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#00a">create</span> <span style="color:#00a">table</span> sandbox.article
 (
   id         bigserial <span style="color:#00a">primary</span> <span style="color:#00a">key</span>,
   category   <span style="color:#0aa">integer</span> <span style="color:#00a">references</span> sandbox.category(id),
   pubdate    timestamptz,
   title      <span style="color:#0aa">text</span> <span style="color:#00a">not</span> <span style="color:#00a">null</span>,
   content    <span style="color:#0aa">text</span>
 );</code></pre></div>
<p>This model isn&rsquo;t even compliant with <em>1NF</em>:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#00a">insert</span> <span style="color:#00a">into</span> sandbox.article (category, pubdate, title)
     <span style="color:#00a">values</span> (<span style="color:#099">2</span>, now(), <span style="color:#a50">&#39;Hot from the Press&#39;</span>),
            (<span style="color:#099">2</span>, now(), <span style="color:#a50">&#39;Hot from the Press&#39;</span>)
  returning *;</code></pre></div>
<p>PostgreSQL is happy to insert duplicate entries here:</p>
<pre><code>─[ RECORD 1 ]───────────────────────────
id       │ 1001
category │ 2
pubdate  │ 2017-08-30 18:09:46.997924+02
title    │ Hot from the Press
content  │ ¤
═[ RECORD 2 ]═══════════════════════════
id       │ 1002
category │ 2
pubdate  │ 2017-08-30 18:09:46.997924+02
title    │ Hot from the Press
content  │ ¤

INSERT 0 2</code></pre>
<p>Of course, it&rsquo;s possible to argue that those entries are not duplicates:
they each have their own <em>id</em> value, which is different — and it is an
artificial value derived automatically for us by the system.</p>

<p>Actually, we now have to deal with two article entries in our publication
system with the same category (category 2 is <em>news</em>), the same title, and
the same publication date. I don&rsquo;t suppose this is an acceptable situation
for the business rules.</p>

<p>In term of database modeling, the artificially generated key is named a
<em>surrogate key</em> because it is a substitute for a <em>natural key</em>. A <em>natural
key</em> would allow preventing duplicate entries in our data set.</p>

<p>We can fix our schema to prevent duplicate entries:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#00a">create</span> <span style="color:#00a">table</span> sandbox.article
 (
   category   <span style="color:#0aa">integer</span> <span style="color:#00a">references</span> sandbox.category(id),
   pubdate    timestamptz,
   title      <span style="color:#0aa">text</span> <span style="color:#00a">not</span> <span style="color:#00a">null</span>,
   content    <span style="color:#0aa">text</span>,
   
   <span style="color:#00a">primary</span> <span style="color:#00a">key</span>(category, title);
 );</code></pre></div>
<p>Now, you can share the same article&rsquo;s title in different categories, but you
can only publish with a title once in the whole history of our publication
system. Given this alternative design, we allow publications with the same
title at different publication dates. It might be needed, after all, as we
know that history often repeats itself.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#00a">create</span> <span style="color:#00a">table</span> sandboxpk.article
 (
   category   <span style="color:#0aa">integer</span> <span style="color:#00a">references</span> sandbox.category(id),
   pubdate    timestamptz,
   title      <span style="color:#0aa">text</span> <span style="color:#00a">not</span> <span style="color:#00a">null</span>,
   content    <span style="color:#0aa">text</span>,
   
   <span style="color:#00a">primary</span> <span style="color:#00a">key</span>(category, pubdate, title)
 );</code></pre></div>
<p>Say we go with the solution that allows reusing the same title at a later
date. We now have to change the model of our <em>comment</em> table, which
references the <em>sandbox.article</em> table:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#00a">create</span> <span style="color:#00a">table</span> sandboxpk.<span style="color:#00a">comment</span>
 (
   a_category <span style="color:#0aa">integer</span>     <span style="color:#00a">not</span> <span style="color:#00a">null</span>,
   a_pubdate  timestamptz <span style="color:#00a">not</span> <span style="color:#00a">null</span>,
   a_title    <span style="color:#0aa">text</span>        <span style="color:#00a">not</span> <span style="color:#00a">null</span>,
   pubdate    timestamptz,
   content    <span style="color:#0aa">text</span>,
   
   <span style="color:#00a">primary</span> <span style="color:#00a">key</span>(a_category, a_pubdate, a_title, pubdate, content),

   <span style="color:#00a">foreign</span> <span style="color:#00a">key</span>(a_category, a_pubdate, a_title)
    <span style="color:#00a">references</span> sandboxpk.article(category, pubdate, title)
 );</code></pre></div>
<p>As you can see each entry in the <em>comment</em> table must have enough
information to be able to reference a single entry in the <em>article</em> table,
with a guarantee that there are no duplicates.</p>

<p>We then have quite a big table for the data we want to manage in there. So
there&rsquo;s yet another solution to this <em>surrogate</em> key approach, a trade-off
where you have the generated summary key benefits and still the natural
primary key guarantees needed for the <em>1NF</em>:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#00a">create</span> <span style="color:#00a">table</span> sandboxpk.article
 (
   id         bigserial <span style="color:#00a">primary</span> <span style="color:#00a">key</span>,
   category   <span style="color:#0aa">integer</span>      <span style="color:#00a">not</span> <span style="color:#00a">null</span> <span style="color:#00a">references</span> sandbox.category(id),
   pubdate    timestamptz  <span style="color:#00a">not</span> <span style="color:#00a">null</span>,
   title      <span style="color:#0aa">text</span>         <span style="color:#00a">not</span> <span style="color:#00a">null</span>,
   content    <span style="color:#0aa">text</span>,
   
   <span style="color:#00a">unique</span>(category, pubdate, title)
 );</code></pre></div>
<p>Now the <em>category</em>, <em>pubdate</em> and <em>title</em> have a <em>not null</em> constraint and a
<em>unique</em> constraint, which is the same level of guarantee as when declaring
them a <em>primary key</em>. So we both have a <em>surrogate</em> key that&rsquo;s easy to
reference from other tables in our model, and also a strong <em>1NF</em> guarantee
about our data set.</p>

<h2 id="conclusion">Conclusion</h2>

<figure class="right"><a href="https://theartofpostgresql.com">
    <img src="/img/TAOP_Book_Cover_200x260.png"/> </a>
</figure>


<p>This article is an extract from my book <a href="https://theartofpostgresql.com">The Art of
PostgresQL</a> where we dive into more details
and examples around database modeling in Chapter 6. Before that you can read
whole chapters about how to be proficient at advanced SQL so that it&rsquo;s
easier to make the right choices when designing a database model. After all,
an important trade-off in the database design is that we&rsquo;re able to write
the queries we need to implement and support users workflows.</p>

<p>After that, Chapter 7 is titled “Data Manipulation and Concurrency Control”
and deals with concurrent accesses to your data, which is the most important
aspect of a relational database management system!</p>
              
            </div>
          </div>
          <div style="margin-top: 1em;">
 <a href="https://theartofpostgresql.com" alt="The Art of PostgreSQL">
  <img src="/img/taopg-cta.jpg" style="width:90%; height: auto; margin-left: 5%">
 </a>
</div>

          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small"></span><br/>
                    
  <a class="tag tag--primary tag--small" href="/tags/postgresql/">PostgreSQL</a>

  <a class="tag tag--primary tag--small" href="/tags/yesql/">YeSQL</a>

  <a class="tag tag--primary tag--small" href="/tags/modelisation/">Modelisation</a>

  <a class="tag tag--primary tag--small" href="/tags/primary-keys/">Primary Keys</a>

  <a class="tag tag--primary tag--small" href="/tags/surrogate-keys/">Surrogate Keys</a>

  <a class="tag tag--primary tag--small" href="/tags/normal-forms/">Normal Forms</a>

                  </div>
                
              
            
            <div class="post-actions-wrap">
 <nav>
    <ul class="post-actions post-action-nav">
      
        <li class="post-action">
          
            <a class="post-action-btn btn btn--default tooltip--top" href="/blog/2018/03/object-relational-database-management-system/" data-tooltip="Object Relational Database Management System">
          
            <i class="fa fa-angle-left"></i>
            <span class="hide-xs hide-sm text-small icon-ml"></span>
          </a>
        </li>
        <li class="post-action">
          
            <a class="post-action-btn btn btn--default tooltip--top" href="/blog/2018/03/database-modelization-anti-patterns/" data-tooltip="Database Modelization Anti-Patterns">
          
            <span class="hide-xs hide-sm text-small icon-mr"></span>
            <i class="fa fa-angle-right"></i>
          </a>
        </li>
      
    </ul>
  </nav>
  <ul class="post-actions post-action-share">
    
      <li class="post-action hide-lg hide-md hide-sm">
        <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
          <i class="fa fa-share-alt"></i>
        </a>
      </li>
      <li class="post-action hide-xs">
        <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=https%3a%2f%2ftapoueh.org%2fblog%2f2018%2f03%2fdatabase-normalization-and-primary-keys%2f">
          <i class="fa fa-google-plus"></i>
        </a>
      </li>
      <li class="post-action hide-xs">
        <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2ftapoueh.org%2fblog%2f2018%2f03%2fdatabase-normalization-and-primary-keys%2f">
          <i class="fa fa-facebook-official"></i>
        </a>
      </li>
      <li class="post-action hide-xs">
        <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=Database%20Normalization%20and%20Primary%20Keys with @tapoueh: https%3a%2f%2ftapoueh.org%2fblog%2f2018%2f03%2fdatabase-normalization-and-primary-keys%2f">
          <i class="fa fa-twitter"></i>
        </a>
      </li>
    
    
      <li class="post-action">
        <a class="post-action-btn btn btn--default" href="#disqus_thread">
          <i class="fa fa-comment-o"></i>
        </a>
      </li>
    
    <li class="post-action">
      
        <a class="post-action-btn btn btn--default" href="#table-of-contents">
      
        <i class="fa fa-list"></i>
      </a>
    </li>
  </ul>
</div>


            
              
                <div id="disqus_thread">
  <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
              
            
          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2021 Dimitri Fontaine. 
  </span>
</footer>

      </div>
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="5">
        <div class="post-actions-wrap">
 <nav>
    <ul class="post-actions post-action-nav">
      
        <li class="post-action">
          
            <a class="post-action-btn btn btn--default tooltip--top" href="/blog/2018/03/object-relational-database-management-system/" data-tooltip="Object Relational Database Management System">
          
            <i class="fa fa-angle-left"></i>
            <span class="hide-xs hide-sm text-small icon-ml"></span>
          </a>
        </li>
        <li class="post-action">
          
            <a class="post-action-btn btn btn--default tooltip--top" href="/blog/2018/03/database-modelization-anti-patterns/" data-tooltip="Database Modelization Anti-Patterns">
          
            <span class="hide-xs hide-sm text-small icon-mr"></span>
            <i class="fa fa-angle-right"></i>
          </a>
        </li>
      
    </ul>
  </nav>
  <ul class="post-actions post-action-share">
    
      <li class="post-action hide-lg hide-md hide-sm">
        <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
          <i class="fa fa-share-alt"></i>
        </a>
      </li>
      <li class="post-action hide-xs">
        <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=https%3a%2f%2ftapoueh.org%2fblog%2f2018%2f03%2fdatabase-normalization-and-primary-keys%2f">
          <i class="fa fa-google-plus"></i>
        </a>
      </li>
      <li class="post-action hide-xs">
        <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2ftapoueh.org%2fblog%2f2018%2f03%2fdatabase-normalization-and-primary-keys%2f">
          <i class="fa fa-facebook-official"></i>
        </a>
      </li>
      <li class="post-action hide-xs">
        <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=Database%20Normalization%20and%20Primary%20Keys with @tapoueh: https%3a%2f%2ftapoueh.org%2fblog%2f2018%2f03%2fdatabase-normalization-and-primary-keys%2f">
          <i class="fa fa-twitter"></i>
        </a>
      </li>
    
    
      <li class="post-action">
        <a class="post-action-btn btn btn--default" href="#disqus_thread">
          <i class="fa fa-comment-o"></i>
        </a>
      </li>
    
    <li class="post-action">
      
        <a class="post-action-btn btn btn--default" href="#table-of-contents">
      
        <i class="fa fa-list"></i>
      </a>
    </li>
  </ul>
</div>


      </div>
      <div id="share-options-bar" class="share-options-bar" data-behavior="5">
  <ul class="share-options">
    <li class="share-option">
      <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=https%3a%2f%2ftapoueh.org%2fblog%2f2018%2f03%2fdatabase-normalization-and-primary-keys%2f">
        <i class="fa fa-google-plus"></i><span></span>
      </a>
    </li>
    <li class="share-option">
      <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2ftapoueh.org%2fblog%2f2018%2f03%2fdatabase-normalization-and-primary-keys%2f">
        <i class="fa fa-facebook-official"></i><span></span>
      </a>
    </li>
    <li class="share-option">
      <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=Database%20Normalization%20and%20Primary%20Keys with @tapoueh: https%3a%2f%2ftapoueh.org%2fblog%2f2018%2f03%2fdatabase-normalization-and-primary-keys%2f">
        <i class="fa fa-twitter"></i><span></span>
      </a>
    </li>
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>

    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-remove"></i>
    </div>
    
      <img id="about-card-picture" src="//www.gravatar.com/avatar/7b615d104c506aa0a49e17151fa94d9f?s=110" alt="" />
    
    <h4 id="about-card-name">Dimitri Fontaine</h4>
    
      <div id="about-card-bio">PostgreSQL Major Contributor</div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        Open Source Software Engineer
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker"></i>
        <br/>
        France
      </div>
    
  </div>
</div>

    

    
  
    
      
      <div id="cover" style="background-image:url('https://tapoueh.org/images/mayan-calendar.jpg');"></div>
    
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.7/js/jquery.fancybox.min.js" integrity="sha256-GEAnjcTqVP+vBp3SSc8bEDQqvWAZMiHyUSIorrWwH50=" crossorigin="anonymous"></script>


<script src="/js/script-pcw6v3xilnxydl1vddzazdverrnn9ctynvnxgwho987mfyqkuylcb1nlt.min.js"></script>


<script lang="javascript">
window.onload = updateMinWidth;
window.onresize = updateMinWidth;
document.getElementById("sidebar").addEventListener("transitionend", updateMinWidth);
function updateMinWidth() {
  var sidebar = document.getElementById("sidebar");
  var main = document.getElementById("main");
  main.style.minWidth = "";
  var w1 = getComputedStyle(main).getPropertyValue("min-width");
  var w2 = getComputedStyle(sidebar).getPropertyValue("width");
  var w3 = getComputedStyle(sidebar).getPropertyValue("left");
  main.style.minWidth = `calc(${w1} - ${w2} - ${w3})`;
}
</script>

<script>
$(document).ready(function() {
  hljs.configure({ classPrefix: '', useBR: false });
  $('pre.code-highlight > code, pre > code').each(function(i, block) {
    if (!$(this).hasClass('codeblock')) {
      $(this).addClass('codeblock');
    }
    hljs.highlightBlock(block);
  });
});
</script>


  
    
      <script>
        var disqus_config = function () {
          this.page.url = 'https:\/\/tapoueh.org\/blog\/2018\/03\/database-normalization-and-primary-keys\/';
          
            this.page.identifier = '\/blog\/2018\/03\/database-normalization-and-primary-keys\/'
          
        };
        (function() {
          
          
          if (window.location.hostname == "localhost") {
            return;
          }
          var d = document, s = d.createElement('script');
          var disqus_shortname = 'tapoueh';
          s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
        })();
      </script>
    
  




    
  </body>
</html>

