<!DOCTYPE HTML>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta charset=utf-8 /> 
    <meta name=viewport content="width=device-width" /> 
    <meta name="generator" content="Emacs Muse Blog" /> 
    <meta description="blog de Dimitri Fontaine, Expert PostgreSQL - 2ndQuadrant France" />
    <meta property="og:title" content="tapoueh.org"/>
    <meta property="og:type" content="non_profit"/>
    <meta property="og:url" content="http://tapoueh.org/blog/2013/08/"/>
    <meta property="og:image" content="http://tapoueh.org/static/2ndQuadrant-cross.png"/>
    <meta property="og:site_name" content="Tapoueh"/>
    <meta property="fb:admins" content="545062436"/>

    <title>Expertise PostgreSQL</title>
    <link rel='stylesheet' type='text/css' media='all' href='/static/styles.css' />

    <link href="/static/bootstrap/css/bootstrap.min.css" rel="stylesheet"/>
    <link rel="stylesheet" href="/static/FontAwesome/css/font-awesome.min.css"/>
    <link rel="stylesheet" href="/static/highlight.js/styles/sunburst.css">
    <script src="/static/highlight.js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <script src="/static/jquery-1.9.1.min.js"></script>
    <link rel="stylesheet" type="text/css" href="/static/jqcloud.css" />
    <script type="text/javascript" src="/static/jqcloud-1.0.4.min.js"></script>

    <script type="text/javascript" src="http://apis.google.com/js/plusone.js">{lang: 'fr'}</script>
    
  </head>
  <body>

   <div id="wrap">

    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="nav-collapse collapse">
	<p class="pull-right">
	  <a href="http://2ndquadrant.com">
	    <img alt="logo" src="/static/2ndQuadrant-cross.png"
		 style="margin-right: 8px; margin-top: 4px; height: 32px;"/>
	  </a>
	</p>
	<div class="navbar-inner">
	 <a class="brand" style="margin-left: 0.2em; margin-top: -4px;"
	    href="http://expert-postgresql.fr/">
	  <img src="/static/expert-postgresql.png"></a>
	 <ul class="nav">
	  <li><a href="/blog"><i class="icon-book"></i> blog</a></li>
	  <li><a href="/projects"><i class="icon-suitcase"></i> projects</a></li>
	  <li><a href="/conferences"><i class="icon-plane"></i> confs</a></li>
	  <li><a href="/about"><i class="icon-beer"></i> about</a></li>
	  <li><a href="/rss/tapoueh.xml"><i class="icon-rss"></i> rss</a></li>
	 </ul>
	</div>
      </div>
    </div>

    <div class="container">
      <div class="row">
	<div class="span4">
	  <div><ul class='breadcrumb'><li><span class='divider'><i class='icon-sitemap'></i></span></li><li><a href='/'>/dev/dim</a><span class='divider'>/</span></li><li><a href='/blog'>blog</a><span class='divider'>/</span></li><li><a href='/blog/2013'>2013</a><span class='divider'>/</span></li><li><a href='/blog/2013/08'>08</a></li></ul></div>
	  
	  
	  

	  <div style="margin-top: 1em;">
	    
	    
	  </div>

	  <div id="prevnext">
	    
	    <div><a class='previous' href='/blog/2013/07'>« 07</a></div>
	    <div><a class='next pull-right' href='/blog/2013/09'>09 »</a></div>
	  </div>
	  
	  <div>
	    <div id="left-tag-cloud" class="jqcloud"
		 style="width: 300px; height: 650px; position: absolute; top: 475px;">
	    </div>
            <script>
            var word_list;
            
            $.ajax({
                type: 'GET',
                url: '/cloud.json',
                dataType: 'json',
                success: function(response) { word_list = response; },
                data: {},
                async: false
            });
             
            $(document).ready(function() {
               $("#left-tag-cloud").jQCloud(word_list,
	                {shape: "rectangular",
	                 removeOverflowing: false});
            });
            </script>
	  </div>

	</div>

	<div id="title" class="span8">
	  <h1></h1>
	</div>
	
	<div id="content" class="span8">
<div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='/blog/2013/08/27-auditing-changes-with-hstore'>Auditing Changes with Hstore</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>August, 27 2013</span></div></div><div class='span2'><a class='thumbnail' href='/blog/2013/08/27-auditing-changes-with-hstore'><img class='img-polaroid' style='width: 160px; height: 120px;' src='/thumbnails/Audit-Conseil.jpg' /></a></div><div class='span6'><p>In a previous article about 
<a href='/blog/2013/08/23-parametrized-triggers'>Trigger Parameters</a> we have been using the
extension 
<a href='http://www.postgresql.org/docs/9.2/static/hstore.html'>hstore</a> in order to compute some extra field in our records, where
the fields used both for the computation and for storing the results were
passed in as 
<em>dynamic parameters</em>. Today we're going to see another 
<em>trigger</em>
use case for 
<em>hstore</em>: we are going to record changes made to our tuples.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='/blog/2013/08/23-parametrized-triggers'>Trigger Parameters</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>August, 23 2013</span></div></div><div class='span2'><a class='thumbnail' href='/blog/2013/08/23-parametrized-triggers'><img class='img-polaroid' style='width: 160px; height: 120px;' src='/thumbnails/dunlop-trigger-84fg-gold.640.jpg' /></a></div><div class='span6'><p>Sometimes you want to compute values automatically at 
<code>INSERT</code> time, like for
example a 
<em>duration</em> column out of a 
<em>start</em> and an 
<em>end</em> column, both
<em>timestamptz</em>. It's easy enough to do with a 
<code>BEFORE TRIGGER</code> on your table.
What's more complex is to come up with a parametrized spelling of the
trigger, where you can attach the same 
<em>stored procedure</em> to any table even
when the column names are different from one another.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='/blog/2013/08/20-Window-Functions'>Understanding Window Functions</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>August, 20 2013</span></div></div><div class='span2'><a class='thumbnail' href='/blog/2013/08/20-Window-Functions'><img class='img-polaroid' style='width: 160px; height: 120px;' src='/thumbnails/moving_window.gif' /></a></div><div class='span6'><p>There was SQL before 
<a href='http://www.postgresql.org/docs/current/static/tutorial-window.html'>window functions</a> and SQL after 
<em>window functions</em>: that's
how powerful this tool is. Being that of a deal breaker unfortunately means
that it can be quite hard to grasp the feature. This article aims at making
it crystal clear so that you can begin using it today and are able to reason
about it and recognize cases where you want to be using 
<em>window functions</em>.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='/blog/2013/08/08-MySQL-to-PostgreSQL'>Migrating from MySQL to PostgreSQL</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>August, 08 2013</span></div></div><div class='span2'><a class='thumbnail' href='/blog/2013/08/08-MySQL-to-PostgreSQL'><img class='img-polaroid' style='width: 160px; height: 120px;' src='/thumbnails/postgresql_versus_mysql.jpg' /></a></div><div class='span6'><p>About the only time when I will accept to work with MySQL is when you need
help to migrate away from it because you decided to move to 
<a href='http://www.postgresql.org/'>PostgreSQL</a>
instead. And it's already been too much of a pain really, so after all this
time I began consolidating what I know about that topic and am writing a
software to help me here. Consider it the 
<em><strong>MySQL Migration Toolkit</strong></em>.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='/blog/2013/08/05-earthdistance'>How far is the nearest pub?</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>August, 05 2013</span></div></div><div class='span2'><a class='thumbnail' href='/blog/2013/08/05-earthdistance'><img class='img-polaroid' style='width: 160px; height: 120px;' src='/thumbnails/latitude_and_longitude.jpg' /></a></div><div class='span6'><p>In our recent article about 
<a href='/blog/2013/08/02-pub-names-knn'>The Most Popular Pub Names</a> we did have a look at
how to find the pubs nearby, but didn't compute the 
<strong>distance</strong> in between that
pub and us. That's because how to compute a distance given a position on the
earth expressed as 
<em>longitude</em> and 
<em>latitude</em> is not that easy. Today, we are
going to solve that problem nonetheless, thanks to 
<a href='http://www.postgresql.org/docs/9.2/interactive/extend-extensions.html'>PostgreSQL Extensions</a>.
</p></div></div><div class='row'><div class='span2'><p>&nbsp;</p></div><div class='span6'><h2><a href='/blog/2013/08/02-pub-names-knn'>The Most Popular Pub Names</a></h2><div class='date'><i class='icon-calendar'></i> <span class='date'>August, 02 2013</span></div></div><div class='span2'><a class='thumbnail' href='/blog/2013/08/02-pub-names-knn'><img class='img-polaroid' style='width: 160px; height: 120px;' src='/thumbnails/openstreetmap.jpg' /></a></div><div class='span6'><p>In his article titled 
<a href='http://blog.mongodb.org/post/56876800071/the-most-popular-pub-names?utm_content=buffer4922c&utm_source=buffer&utm_medium=facebook&utm_campaign=Buffer'>The Most Popular Pub Names</a> 
<em>Ross Lawley</em> did show us how
to perform some quite interesting 
<em>geographic queries</em> against 
<a href='http://www.mongodb.org/'>MongoDB</a>, using
some nice 
<em>Open Data</em> found at the 
<a href='http://www.openstreetmap.org/'>Open Street Map</a> project.
</p></div></div></div>  </div>
  </div>
  </div>
  <div id="push"></div>
  </div>

<footer>
  <p>
    <small>Unless otherwise specified, the contents of
    <a href=/index.html>this website</a> are Copyright
    &#169;&#160; 2008-2013 <a href=/about>Dimitri Fontaine</a>, and are
    licensed for use under
    <a href=http://creativecommons.org/licenses/by-sa/3.0/
    rel=license><abbr title="Creative
    Commons">CC</abbr>&#160;<abbr title=Attribution>BY</abbr>-<abbr title=Share-Alike>SA</abbr>&#160;3.0</a>.</small>
  </p> 
</footer> 

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-47059482-1', 'tapoueh.org');
  ga('send', 'pageview');

</script>

</body>
</html>
